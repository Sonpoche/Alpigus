[2025-04-11T09:44:04.730Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T09:44:04.740Z] Commande créée {
  "id": "cm9clo60u0003m5j99zqeehll",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-11T09:44:04.741Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-11T09:58:33.808Z] [TEST] Début création commande de test 
[2025-04-11T09:58:33.811Z] [TEST] Utilisateur client trouvé {
  "userId": "cm87c7hvh00006aia2k26zc26"
}
[2025-04-11T09:58:33.813Z] [TEST] Produit trouvé {
  "productId": "cm8fvrbh2000ym01epzrpk6i7",
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "producerUserId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T09:58:33.845Z] [TEST] Commande de test créée {
  "orderId": "cm9cm6slz0009m5j9brp7aobw"
}
[2025-04-11T09:58:33.854Z] [TEST] Notification de test créée {
  "notificationId": "cm9cm6smv000dm5j9mhdfo57c"
}
[2025-04-11T09:59:39.154Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T09:59:39.155Z] ATTENTION: Requête reçue sans items 
[2025-04-11T09:59:39.165Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9cm6slz000bm5j9bd7m50em",
    "orderId": "cm9cm6slz0009m5j9brp7aobw",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T09:59:39.167Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10
  }
]
[2025-04-11T09:59:39.198Z] Commande créée avec ID: "cm9cm871d000fm5j984l6gbon"
[2025-04-11T09:59:39.200Z] Contenu de l'objet order.items: [
  {
    "id": "cm9cm871d000hm5j9jbfphl7y",
    "orderId": "cm9cm871d000fm5j984l6gbon",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-04-11T09:59:39.204Z] Vérification des items dans la base de données: [
  {
    "id": "cm9cm871d000hm5j9jbfphl7y",
    "orderId": "cm9cm871d000fm5j984l6gbon",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T09:59:39.204Z] Commande créée {
  "id": "cm9cm871d000fm5j984l6gbon",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-04-11T09:59:39.205Z] Items trouvés dans la commande 
[2025-04-11T09:59:39.208Z] Produits avec producteurs [
  {
    "id": "cm8fvrbh2000ym01epzrpk6i7",
    "name": "Test",
    "description": "",
    "price": 10,
    "type": "FRESH",
    "image": "/presets/mushrooms/optimized/morel.jpg",
    "unit": "kg",
    "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
    "available": true,
    "createdAt": "2025-03-19T12:10:04.118Z",
    "updatedAt": "2025-03-19T12:10:04.118Z",
    "producer": {
      "id": "cm7yn4iaf0003qxwp7jjkgdiu",
      "userId": "cm7yn45lj0000qxwps52dljee",
      "companyName": "webdevfred",
      "address": "2 la placette",
      "description": "test"
    }
  }
]
[2025-04-11T09:59:39.209Z] Producteurs identifiés [
  {
    "id": "cm7yn4iaf0003qxwp7jjkgdiu",
    "userId": "cm7yn45lj0000qxwps52dljee",
    "companyName": "webdevfred",
    "address": "2 la placette",
    "description": "test"
  }
]
[2025-04-11T09:59:39.210Z] Création notification pour producteur {
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "userId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T09:59:39.213Z] Notification créée avec succès {
  "notificationId": "cm9cm872k000jm5j91dmblqjr"
}
[2025-04-11T10:01:40.575Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T10:01:40.576Z] ATTENTION: Requête reçue sans items 
[2025-04-11T10:01:40.579Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9cm6slz000bm5j9bd7m50em",
    "orderId": "cm9cm6slz0009m5j9brp7aobw",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:01:40.581Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10
  }
]
[2025-04-11T10:01:40.611Z] Commande créée avec ID: "cm9cmaspy000um5j92ukd3iq6"
[2025-04-11T10:01:40.615Z] Contenu de l'objet order.items: [
  {
    "id": "cm9cmaspz000wm5j9fg2gp11w",
    "orderId": "cm9cmaspy000um5j92ukd3iq6",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-04-11T10:01:40.619Z] Vérification des items dans la base de données: [
  {
    "id": "cm9cmaspz000wm5j9fg2gp11w",
    "orderId": "cm9cmaspy000um5j92ukd3iq6",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:01:40.625Z] Commande créée {
  "id": "cm9cmaspy000um5j92ukd3iq6",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-04-11T10:01:40.626Z] Items trouvés dans la commande 
[2025-04-11T10:01:40.631Z] Produits avec producteurs [
  {
    "id": "cm8fvrbh2000ym01epzrpk6i7",
    "name": "Test",
    "description": "",
    "price": 10,
    "type": "FRESH",
    "image": "/presets/mushrooms/optimized/morel.jpg",
    "unit": "kg",
    "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
    "available": true,
    "createdAt": "2025-03-19T12:10:04.118Z",
    "updatedAt": "2025-03-19T12:10:04.118Z",
    "producer": {
      "id": "cm7yn4iaf0003qxwp7jjkgdiu",
      "userId": "cm7yn45lj0000qxwps52dljee",
      "companyName": "webdevfred",
      "address": "2 la placette",
      "description": "test"
    }
  }
]
[2025-04-11T10:01:40.632Z] Producteurs identifiés [
  {
    "id": "cm7yn4iaf0003qxwp7jjkgdiu",
    "userId": "cm7yn45lj0000qxwps52dljee",
    "companyName": "webdevfred",
    "address": "2 la placette",
    "description": "test"
  }
]
[2025-04-11T10:01:40.634Z] Création notification pour producteur {
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "userId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T10:01:40.638Z] Notification créée avec succès {
  "notificationId": "cm9cmasrg000ym5j9xumgask0"
}
[2025-04-11T10:07:04.469Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T10:07:04.470Z] ATTENTION: Requête reçue sans items 
[2025-04-11T10:07:04.472Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9cm6slz000bm5j9bd7m50em",
    "orderId": "cm9cm6slz0009m5j9brp7aobw",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:07:04.473Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10
  }
]
[2025-04-11T10:07:04.479Z] Commande créée avec ID: "cm9cmhqn00015m5j9mky3y6l1"
[2025-04-11T10:07:04.480Z] Contenu de l'objet order.items: [
  {
    "id": "cm9cmhqn00017m5j9jk89mo1g",
    "orderId": "cm9cmhqn00015m5j9mky3y6l1",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-04-11T10:07:04.482Z] Vérification des items dans la base de données: [
  {
    "id": "cm9cmhqn00017m5j9jk89mo1g",
    "orderId": "cm9cmhqn00015m5j9mky3y6l1",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:07:04.483Z] Commande créée {
  "id": "cm9cmhqn00015m5j9mky3y6l1",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-04-11T10:07:04.484Z] Items trouvés dans la commande 
[2025-04-11T10:07:04.490Z] Produits avec producteurs [
  {
    "id": "cm8fvrbh2000ym01epzrpk6i7",
    "name": "Test",
    "description": "",
    "price": 10,
    "type": "FRESH",
    "image": "/presets/mushrooms/optimized/morel.jpg",
    "unit": "kg",
    "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
    "available": true,
    "createdAt": "2025-03-19T12:10:04.118Z",
    "updatedAt": "2025-03-19T12:10:04.118Z",
    "producer": {
      "id": "cm7yn4iaf0003qxwp7jjkgdiu",
      "userId": "cm7yn45lj0000qxwps52dljee",
      "companyName": "webdevfred",
      "address": "2 la placette",
      "description": "test"
    }
  }
]
[2025-04-11T10:07:04.491Z] Producteurs identifiés [
  {
    "id": "cm7yn4iaf0003qxwp7jjkgdiu",
    "userId": "cm7yn45lj0000qxwps52dljee",
    "companyName": "webdevfred",
    "address": "2 la placette",
    "description": "test"
  }
]
[2025-04-11T10:07:04.492Z] Création notification pour producteur {
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "userId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T10:07:04.494Z] Notification créée avec succès {
  "notificationId": "cm9cmhqnh0019m5j99twvqrgw"
}
[2025-04-22T13:12:42.451Z] Début notification changement de statut {
  "orderId": "cm9cm6slz0009m5j9brp7aobw",
  "oldStatus": "PENDING",
  "newStatus": "CONFIRMED"
}
[2025-04-22T13:12:42.456Z] Notification changement statut créée {
  "id": "cm9siyu3b000avryrceguzlgh"
}
[2025-04-22T13:12:53.851Z] Début notification changement de statut {
  "orderId": "cm9cmaspy000um5j92ukd3iq6",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-04-22T13:12:53.860Z] Notification changement statut créée {
  "id": "cm9siz2w3000cvryr5de92obz"
}
[2025-04-22T13:12:57.542Z] Début notification changement de statut {
  "orderId": "cm9cmaspy000um5j92ukd3iq6",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-04-22T13:12:57.552Z] Notification changement statut créée {
  "id": "cm9siz5qn000evryrqd7znwk4"
}
[2025-04-23T10:33:09.912Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-23T10:33:09.913Z] ATTENTION: Requête reçue sans items 
[2025-04-23T10:33:09.916Z] Aucun panier existant avec des items trouvé 
[2025-04-23T10:33:09.919Z] Items qui seront utilisés pour créer la commande: []
[2025-04-23T10:33:09.927Z] Commande créée avec ID: "cm9tspijl0001q561zb2ja82y"
[2025-04-23T10:33:09.928Z] Contenu de l'objet order.items: []
[2025-04-23T10:33:09.931Z] Vérification des items dans la base de données: []
[2025-04-23T10:33:09.933Z] Commande créée {
  "id": "cm9tspijl0001q561zb2ja82y",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-23T10:33:09.934Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-24T08:49:16.365Z] Notification de réservation créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:19:30.069Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9tspijl0001q561zb2ja82y"
}
[2025-04-24T09:19:30.070Z] Items dans la commande: 
[2025-04-24T09:19:30.071Z] Aucun item dans la commande 
[2025-04-24T09:19:30.072Z] Bookings dans la commande: 1
[2025-04-24T09:19:30.074Z] Traitement booking: {
  "slotId": "cm9siu6uz0008vryrr4mqijp9",
  "productId": "cm8n4b9pl003znfyhnl5mlske"
}
[2025-04-24T09:19:30.075Z] Producer ID de booking ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:19:30.076Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:19:30.078Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:19:30.078Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:19:30.081Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:19:30.082Z] Montant total pour ce producteur: {
  "itemsTotal": 0,
  "bookingsTotal": 15,
  "total": 15
}
[2025-04-24T09:19:30.085Z] Notification créée avec ID: "cm9v5imuc000aa500km8rswll"
[2025-04-24T09:19:30.086Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:19:30.090Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9v5imtp0008a500m9nfek4h"
}
[2025-04-24T09:19:45.758Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:20:27.967Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9tspijl0001q561zb2ja82y"
}
[2025-04-24T09:20:27.969Z] Items dans la commande: 
[2025-04-24T09:20:27.970Z] Aucun item dans la commande 
[2025-04-24T09:20:27.971Z] Bookings dans la commande: 1
[2025-04-24T09:20:27.973Z] Traitement booking: {
  "slotId": "cm9siu6uz0008vryrr4mqijp9",
  "productId": "cm8n4b9pl003znfyhnl5mlske"
}
[2025-04-24T09:20:27.974Z] Producer ID de booking ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:20:27.976Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:20:27.977Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:20:27.978Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:20:27.981Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:20:27.982Z] Montant total pour ce producteur: {
  "itemsTotal": 0,
  "bookingsTotal": 15,
  "total": 15
}
[2025-04-24T09:20:27.986Z] Notification créée avec ID: "cm9v5jvip000ha5002s9suhhg"
[2025-04-24T09:20:27.987Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:20:51.667Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-24T09:20:51.668Z] ATTENTION: Requête reçue sans items 
[2025-04-24T09:20:51.671Z] Aucun panier existant avec des items trouvé 
[2025-04-24T09:20:51.672Z] Items qui seront utilisés pour créer la commande: []
[2025-04-24T09:20:51.701Z] Commande créée avec ID: "cm9v5kdsr000ja500x546u7gi"
[2025-04-24T09:20:51.703Z] Contenu de l'objet order.items: []
[2025-04-24T09:20:51.705Z] Vérification des items dans la base de données: []
[2025-04-24T09:20:51.706Z] Commande créée {
  "id": "cm9v5kdsr000ja500x546u7gi",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-24T09:20:51.707Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-24T09:21:07.717Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9v5kdsr000ja500x546u7gi"
}
[2025-04-24T09:21:07.718Z] Items dans la commande: 1
[2025-04-24T09:21:07.719Z] Traitement item produit: {
  "productId": "cm9bcqphb0001plhz5m8qe7cz",
  "productName": "Elise"
}
[2025-04-24T09:21:07.721Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:21:07.722Z] Bookings dans la commande: 
[2025-04-24T09:21:07.723Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:21:07.724Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:21:07.725Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:21:07.728Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:21:07.731Z] Montant total pour ce producteur: {
  "itemsTotal": 100,
  "bookingsTotal": 0,
  "total": 100
}
[2025-04-24T09:21:07.734Z] Notification créée avec ID: "cm9v5kq6t000ra500q60sij2w"
[2025-04-24T09:21:07.737Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:21:07.743Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9v5kq5j000pa500sh21x1bz"
}
[2025-04-24T09:21:14.892Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:28:23.002Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-24T09:28:23.003Z] ATTENTION: Requête reçue sans items 
[2025-04-24T09:28:23.006Z] Aucun panier existant avec des items trouvé 
[2025-04-24T09:28:23.008Z] Items qui seront utilisés pour créer la commande: []
[2025-04-24T09:28:23.039Z] Commande créée avec ID: "cm9v5u21u000ya500suzo4lgw"
[2025-04-24T09:28:23.041Z] Contenu de l'objet order.items: []
[2025-04-24T09:28:23.043Z] Vérification des items dans la base de données: []
[2025-04-24T09:28:23.045Z] Commande créée {
  "id": "cm9v5u21u000ya500suzo4lgw",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-24T09:28:23.046Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-24T09:30:12.070Z] Notification de réservation créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:30:55.318Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9v5u21u000ya500suzo4lgw"
}
[2025-04-24T09:30:55.320Z] Items dans la commande: 
[2025-04-24T09:30:55.322Z] Aucun item dans la commande 
[2025-04-24T09:30:55.323Z] Bookings dans la commande: 1
[2025-04-24T09:30:55.324Z] Traitement booking: {
  "slotId": "cm9v5v7ut0011a50046nu4fh1",
  "productId": "cm8n4b9pl003znfyhnl5mlske"
}
[2025-04-24T09:30:55.326Z] Producer ID de booking ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:30:55.327Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:30:55.328Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:30:55.329Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:30:55.332Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:30:55.333Z] Montant total pour ce producteur: {
  "itemsTotal": 0,
  "bookingsTotal": 15,
  "total": 15
}
[2025-04-24T09:30:55.338Z] Notification créée avec ID: "cm9v5xbl3001ba500njdfvw8b"
[2025-04-24T09:30:55.339Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:30:55.345Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9v5xbjs0019a5006nmq0wcg"
}
[2025-04-24T09:31:12.230Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:17:46.170Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-26T17:17:46.176Z] ATTENTION: Requête reçue sans items 
[2025-04-26T17:17:46.180Z] Aucun panier existant avec des items trouvé 
[2025-04-26T17:17:46.182Z] Items qui seront utilisés pour créer la commande: []
[2025-04-26T17:17:46.198Z] Commande créée avec ID: "cm9yhhe8a000169pkp21cbuz4"
[2025-04-26T17:17:46.199Z] Contenu de l'objet order.items: []
[2025-04-26T17:17:46.202Z] Vérification des items dans la base de données: []
[2025-04-26T17:17:46.204Z] Commande créée {
  "id": "cm9yhhe8a000169pkp21cbuz4",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-26T17:17:46.205Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-26T17:19:52.134Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9yhhe8a000169pkp21cbuz4"
}
[2025-04-26T17:19:52.136Z] Items dans la commande: 1
[2025-04-26T17:19:52.137Z] Traitement item produit: {
  "productId": "cm9wm4b1e000513uqh4qdtr89",
  "productName": "test_order"
}
[2025-04-26T17:19:52.139Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-26T17:19:52.141Z] Bookings dans la commande: 
[2025-04-26T17:19:52.142Z] Nombre de producteurs à notifier: 1
[2025-04-26T17:19:52.143Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-26T17:19:52.145Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-26T17:19:52.148Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-26T17:19:52.149Z] Montant total pour ce producteur: {
  "itemsTotal": 2,
  "bookingsTotal": 0,
  "total": 2
}
[2025-04-26T17:19:52.158Z] Notification créée avec ID: "cm9yhk3fb000q69pkq928oy0v"
[2025-04-26T17:19:52.160Z] NotificationService: Fin de l'envoi de notification 
[2025-04-26T17:19:52.297Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9yhk3eq000o69pkqpihkr6w"
}
[2025-04-26T17:20:51.094Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:22:58.068Z] Début notification changement de statut {
  "orderId": "cm9yhhe8a000169pkp21cbuz4",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-04-26T17:22:58.072Z] Notification changement statut créée {
  "id": "cm9yho2vr000w69pk4areojor"
}
[2025-04-26T17:22:58.075Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:23:05.149Z] Début notification changement de statut {
  "orderId": "cm9yhhe8a000169pkp21cbuz4",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-04-26T17:23:05.153Z] Notification changement statut créée {
  "id": "cm9yho8cg001069pkdr7xqb8i"
}
[2025-04-26T17:23:05.157Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:43:31.121Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-26T17:43:31.123Z] ATTENTION: Requête reçue sans items 
[2025-04-26T17:43:31.126Z] Aucun panier existant avec des items trouvé 
[2025-04-26T17:43:31.128Z] Items qui seront utilisés pour créer la commande: []
[2025-04-26T17:43:31.135Z] Commande créée avec ID: "cm9yieibf001469pk6l9cpy02"
[2025-04-26T17:43:31.137Z] Contenu de l'objet order.items: []
[2025-04-26T17:43:31.140Z] Vérification des items dans la base de données: []
[2025-04-26T17:43:31.141Z] Commande créée {
  "id": "cm9yieibf001469pk6l9cpy02",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-26T17:43:31.142Z] Aucun item dans la commande - pas de notification à créer 
[2025-05-05T16:58:34.646Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T16:58:34.675Z] ATTENTION: Requête reçue sans items 
[2025-05-05T16:58:34.680Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:34.681Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T16:58:34.685Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:48.658Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T16:58:48.667Z] ATTENTION: Requête reçue sans items 
[2025-05-05T16:58:48.677Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:48.828Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T16:58:48.995Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:54.137Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T16:58:54.139Z] ATTENTION: Requête reçue sans items 
[2025-05-05T16:58:54.144Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:54.145Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T16:58:54.149Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:17.983Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:02:17.985Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:02:17.990Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:17.991Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:02:17.995Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:22.228Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:02:22.230Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:02:22.234Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:22.236Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:02:22.240Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:05:16.832Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:05:16.834Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:05:16.839Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:05:16.840Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:05:16.844Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:06:26.625Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:06:26.626Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:06:26.631Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:06:26.633Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:06:26.639Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:09:30.360Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:09:30.362Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:09:30.366Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9yhiglk000969pk71nzvahv",
    "orderId": "cm9yhhe8a000169pkp21cbuz4",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:09:30.367Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1
  }
]
[2025-05-05T17:09:30.402Z] Panier créé avec ID: "cmabc5fnm000ke7innotx9hnq"
[2025-05-05T17:09:30.403Z] Contenu de l'objet order.items: [
  {
    "id": "cmabc5fnm000me7inzyneqzqa",
    "orderId": "cmabc5fnm000ke7innotx9hnq",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-05-05T17:09:30.407Z] Vérification des items dans la base de données: [
  {
    "id": "cmabc5fnm000me7inzyneqzqa",
    "orderId": "cmabc5fnm000ke7innotx9hnq",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:09:30.409Z] Panier créé {
  "id": "cmabc5fnm000ke7innotx9hnq",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-05-05T17:40:20.146Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:40:20.148Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:40:20.151Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9yhiglk000969pk71nzvahv",
    "orderId": "cm9yhhe8a000169pkp21cbuz4",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:40:20.153Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1
  }
]
[2025-05-05T17:40:20.187Z] Panier créé avec ID: "cmabd92yj000pe7inhau7quqb"
[2025-05-05T17:40:20.188Z] Contenu de l'objet order.items: [
  {
    "id": "cmabd92yj000re7inbrlyipsf",
    "orderId": "cmabd92yj000pe7inhau7quqb",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-05-05T17:40:20.192Z] Vérification des items dans la base de données: [
  {
    "id": "cmabd92yj000re7inbrlyipsf",
    "orderId": "cmabd92yj000pe7inhau7quqb",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:40:20.194Z] Panier créé {
  "id": "cmabd92yj000pe7inhau7quqb",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-05-05T17:49:01.248Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:49:01.251Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:49:01.255Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9yhiglk000969pk71nzvahv",
    "orderId": "cm9yhhe8a000169pkp21cbuz4",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:49:01.257Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1
  }
]
[2025-05-05T17:49:01.288Z] Panier créé avec ID: "cmabdk91n000ue7inypw3dn0z"
[2025-05-05T17:49:01.290Z] Contenu de l'objet order.items: [
  {
    "id": "cmabdk91n000we7ina2ib0zs8",
    "orderId": "cmabdk91n000ue7inypw3dn0z",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-05-05T17:49:01.294Z] Vérification des items dans la base de données: [
  {
    "id": "cmabdk91n000we7ina2ib0zs8",
    "orderId": "cmabdk91n000ue7inypw3dn0z",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:49:01.296Z] Panier créé {
  "id": "cmabdk91n000ue7inypw3dn0z",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-05-15T11:32:40.480Z] NotificationService: Début envoi notification commande {
  "orderId": "cmabdk91n000ue7inypw3dn0z"
}
[2025-05-15T11:32:40.482Z] Items dans la commande: 1
[2025-05-15T11:32:40.483Z] Traitement item produit: {
  "productId": "cm9wm4b1e000513uqh4qdtr89",
  "productName": "test_order"
}
[2025-05-15T11:32:40.484Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-15T11:32:40.485Z] Bookings dans la commande: 
[2025-05-15T11:32:40.486Z] Nombre de producteurs à notifier: 1
[2025-05-15T11:32:40.487Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-05-15T11:32:40.488Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-15T11:32:40.490Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-05-15T11:32:40.491Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-05-15T11:32:40.496Z] Notification créée avec ID: "cmapaisa50004tf44jlsupofa"
[2025-05-15T11:32:40.497Z] NotificationService: Fin de l'envoi de notification 
[2025-05-15T11:32:40.627Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cmapais9m0002tf44zgzkt6pf"
}
[2025-05-15T11:57:39.361Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-15T11:57:39.362Z] ATTENTION: Requête reçue sans items 
[2025-05-15T11:57:39.365Z] Aucun panier existant avec des items trouvé 
[2025-05-15T11:57:39.366Z] Items qui seront utilisés pour créer la commande: []
[2025-05-15T11:57:39.397Z] Panier créé avec ID: "cmapbewtl0008tf44qrmkj1m6"
[2025-05-15T11:57:39.398Z] Contenu de l'objet order.items: []
[2025-05-15T11:57:39.401Z] Vérification des items dans la base de données: []
[2025-05-15T11:57:39.402Z] Panier créé {
  "id": "cmapbewtl0008tf44qrmkj1m6",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-05-20T10:40:33.358Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-20T10:40:59.790Z] Début notification changement de statut {
  "orderId": "cmabdk91n000ue7inypw3dn0z",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-05-20T10:40:59.796Z] Notification changement statut créée {
  "id": "cmawdvl3m0006n2vn1oq7c0p0"
}
[2025-05-20T10:40:59.800Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-20T10:41:01.442Z] Début notification changement de statut {
  "orderId": "cmabdk91n000ue7inypw3dn0z",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-05-20T10:41:01.447Z] Notification changement statut créée {
  "id": "cmawdvmdi000an2vn7soigqle"
}
[2025-05-20T10:41:01.451Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-20T12:53:59.863Z] NotificationService: Début envoi notification commande {
  "orderId": "cmapbewtl0008tf44qrmkj1m6"
}
[2025-05-20T12:53:59.865Z] Items dans la commande: 1
[2025-05-20T12:53:59.870Z] Traitement item produit: {
  "productId": "cm9wm4b1e000513uqh4qdtr89",
  "productName": "test_order"
}
[2025-05-20T12:53:59.872Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-20T12:53:59.873Z] Bookings dans la commande: 
[2025-05-20T12:53:59.874Z] Nombre de producteurs à notifier: 1
[2025-05-20T12:53:59.876Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-05-20T12:53:59.878Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-20T12:53:59.881Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-05-20T12:53:59.883Z] Montant total pour ce producteur: {
  "itemsTotal": 5,
  "bookingsTotal": 0,
  "total": 5
}
[2025-05-20T12:53:59.887Z] Notification créée avec ID: "cmawimmkt000in2vno34wlab8"
[2025-05-20T12:53:59.889Z] NotificationService: Fin de l'envoi de notification 
[2025-05-20T13:52:49.746Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-20T13:52:49.759Z] ATTENTION: Requête reçue sans items 
[2025-05-20T13:52:49.762Z] Aucun panier existant avec des items trouvé 
[2025-05-20T13:52:49.764Z] Items qui seront utilisés pour créer la commande: []
[2025-05-20T13:52:49.771Z] Panier créé avec ID: "cmawkqa92000mn2vnzf9d8ujb"
[2025-05-20T13:52:49.772Z] Contenu de l'objet order.items: []
[2025-05-20T13:52:49.775Z] Vérification des items dans la base de données: []
[2025-05-20T13:52:49.776Z] Panier créé {
  "id": "cmawkqa92000mn2vnzf9d8ujb",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-05-20T13:53:27.975Z] NotificationService: Début envoi notification commande {
  "orderId": "cmawkqa92000mn2vnzf9d8ujb"
}
[2025-05-20T13:53:27.992Z] Items dans la commande: 1
[2025-05-20T13:53:28.004Z] Traitement item produit: {
  "productId": "cm9wm4b1e000513uqh4qdtr89",
  "productName": "test_order"
}
[2025-05-20T13:53:28.011Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-20T13:53:28.035Z] Bookings dans la commande: 
[2025-05-20T13:53:28.040Z] Nombre de producteurs à notifier: 1
[2025-05-20T13:53:28.046Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-05-20T13:53:28.068Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-20T13:53:28.083Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-05-20T13:53:28.091Z] Montant total pour ce producteur: {
  "itemsTotal": 70,
  "bookingsTotal": 0,
  "total": 70
}
[2025-05-20T13:53:28.126Z] Notification créée avec ID: "cmawkr3tp0011n2vnkmrsycrh"
[2025-05-20T13:53:28.133Z] NotificationService: Fin de l'envoi de notification 
[2025-05-20T13:54:42.722Z] Début notification changement de statut {
  "orderId": "cmawkqa92000mn2vnzf9d8ujb",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-05-20T13:54:42.734Z] Notification changement statut créée {
  "id": "cmawkspez0019n2vnfcl528u1"
}
[2025-05-20T13:54:42.739Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-20T13:54:45.576Z] Début notification changement de statut {
  "orderId": "cmapbewtl0008tf44qrmkj1m6",
  "oldStatus": "PENDING",
  "newStatus": "CONFIRMED"
}
[2025-05-20T13:54:45.580Z] Notification changement statut créée {
  "id": "cmawksrm3001dn2vnck1l8kr2"
}
[2025-05-20T13:54:45.582Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-20T13:54:46.547Z] Début notification changement de statut {
  "orderId": "cmapbewtl0008tf44qrmkj1m6",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-05-20T13:54:46.551Z] Notification changement statut créée {
  "id": "cmawkssd2001hn2vnjc1p5k5d"
}
[2025-05-20T13:54:46.554Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-20T13:54:47.618Z] Début notification changement de statut {
  "orderId": "cmapbewtl0008tf44qrmkj1m6",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-05-20T13:54:47.622Z] Notification changement statut créée {
  "id": "cmawkst6t001ln2vnj3x8exv9"
}
[2025-05-20T13:54:47.625Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-20T13:54:48.595Z] Début notification changement de statut {
  "orderId": "cmawkqa92000mn2vnzf9d8ujb",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-05-20T13:54:48.600Z] Notification changement statut créée {
  "id": "cmawkstxy001pn2vn4cduz2pf"
}
[2025-05-20T13:54:48.603Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-21T10:30:36.107Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-21T10:30:36.136Z] ATTENTION: Requête reçue sans items 
[2025-05-21T10:30:36.139Z] Aucun panier existant avec des items trouvé 
[2025-05-21T10:30:36.140Z] Items qui seront utilisés pour créer la commande: []
[2025-05-21T10:30:36.146Z] Panier créé avec ID: "cmaxsy2jz0003dzu9r0jrulte"
[2025-05-21T10:30:36.148Z] Contenu de l'objet order.items: []
[2025-05-21T10:30:36.150Z] Vérification des items dans la base de données: []
[2025-05-21T10:30:36.152Z] Panier créé {
  "id": "cmaxsy2jz0003dzu9r0jrulte",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-05-21T10:31:17.508Z] NotificationService: Début envoi notification commande {
  "orderId": "cmaxsy2jz0003dzu9r0jrulte"
}
[2025-05-21T10:31:17.510Z] Items dans la commande: 1
[2025-05-21T10:31:17.511Z] Traitement item produit: {
  "productId": "cm9wm4b1e000513uqh4qdtr89",
  "productName": "test_order"
}
[2025-05-21T10:31:17.512Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-21T10:31:17.514Z] Bookings dans la commande: 
[2025-05-21T10:31:17.515Z] Nombre de producteurs à notifier: 1
[2025-05-21T10:31:17.516Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-05-21T10:31:17.517Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-21T10:31:17.521Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-05-21T10:31:17.523Z] Montant total pour ce producteur: {
  "itemsTotal": 5,
  "bookingsTotal": 0,
  "total": 5
}
[2025-05-21T10:31:17.533Z] Notification créée avec ID: "cmaxsyyhp0009dzu98kmpp0qr"
[2025-05-21T10:31:17.535Z] NotificationService: Fin de l'envoi de notification 
[2025-05-21T10:32:48.427Z] Début notification changement de statut {
  "orderId": "cmaxsy2jz0003dzu9r0jrulte",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-05-21T10:32:48.432Z] Notification changement statut créée {
  "id": "cmaxt0wmo000ddzu910nurowr"
}
[2025-05-21T10:32:48.434Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-21T10:32:49.227Z] Début notification changement de statut {
  "orderId": "cmaxsy2jz0003dzu9r0jrulte",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-05-21T10:32:49.231Z] Notification changement statut créée {
  "id": "cmaxt0x8v000hdzu9h8n8iyic"
}
[2025-05-21T10:32:49.234Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-05-21T10:49:16.302Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-21T10:49:16.303Z] ATTENTION: Requête reçue sans items 
[2025-05-21T10:49:16.307Z] Aucun panier existant avec des items trouvé 
[2025-05-21T10:49:16.309Z] Items qui seront utilisés pour créer la commande: []
[2025-05-21T10:49:16.341Z] Panier créé avec ID: "cmaxtm2vq000ldzu9ectahmg5"
[2025-05-21T10:49:16.342Z] Contenu de l'objet order.items: []
[2025-05-21T10:49:16.345Z] Vérification des items dans la base de données: []
[2025-05-21T10:49:16.346Z] Panier créé {
  "id": "cmaxtm2vq000ldzu9ectahmg5",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-20T12:13:33.793Z] Notification créée avec succès {
  "id": "cmc4ru19a00092cvijyv9achh",
  "userId": "cm87c7hvh00006aia2k26zc26",
  "type": "ORDER_STATUS"
}
[2025-06-20T12:27:55.587Z] Notification créée avec succès {
  "id": "cmc4sci7b000f2cviy1h1yu42",
  "userId": "cm87c7hvh00006aia2k26zc26",
  "type": "ORDER_STATUS"
}
[2025-06-20T15:06:20.863Z] NotificationService: Début envoi notification commande {
  "orderId": "cmaxtm2vq000ldzu9ectahmg5"
}
[2025-06-20T15:06:20.865Z] Items dans la commande: 1
[2025-06-20T15:06:20.866Z] Traitement item produit: {
  "productId": "cmc4xif7l000n2cvirlcefghj",
  "productName": "test_order"
}
[2025-06-20T15:06:20.868Z] Producer ID directement ajouté: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-20T15:06:20.874Z] Bookings dans la commande: 
[2025-06-20T15:06:20.875Z] Nombre de producteurs à notifier: 1
[2025-06-20T15:06:20.876Z] Liste des IDs producteurs: [
  "cmc4r2kjk00042cvixg1ghtsa"
]
[2025-06-20T15:06:20.878Z] Traitement du producteur: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-20T15:06:20.881Z] Producer userId: "cmc4r2kjk00032cvivmukdx58"
[2025-06-20T15:06:20.882Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-20T15:06:20.887Z] Notification créée avec ID: "cmc4y08k5000u2cvi48337x6b"
[2025-06-20T15:06:20.888Z] NotificationService: Fin de l'envoi de notification 
[2025-06-20T15:08:07.464Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-20T15:08:07.466Z] ATTENTION: Requête reçue sans items 
[2025-06-20T15:08:07.470Z] Aucun panier existant avec des items trouvé 
[2025-06-20T15:08:07.473Z] Items qui seront utilisés pour créer la commande: []
[2025-06-20T15:08:07.479Z] Panier créé avec ID: "cmc4y2it0000y2cvim8n7qjm5"
[2025-06-20T15:08:07.481Z] Contenu de l'objet order.items: []
[2025-06-20T15:08:07.483Z] Vérification des items dans la base de données: []
[2025-06-20T15:08:07.485Z] Panier créé {
  "id": "cmc4y2it0000y2cvim8n7qjm5",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-20T15:08:51.463Z] NotificationService: Début envoi notification commande {
  "orderId": "cmc4y2it0000y2cvim8n7qjm5"
}
[2025-06-20T15:08:51.465Z] Items dans la commande: 1
[2025-06-20T15:08:51.467Z] Traitement item produit: {
  "productId": "cmc4xif7l000n2cvirlcefghj",
  "productName": "test_order"
}
[2025-06-20T15:08:51.468Z] Producer ID directement ajouté: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-20T15:08:51.470Z] Bookings dans la commande: 
[2025-06-20T15:08:51.471Z] Nombre de producteurs à notifier: 1
[2025-06-20T15:08:51.472Z] Liste des IDs producteurs: [
  "cmc4r2kjk00042cvixg1ghtsa"
]
[2025-06-20T15:08:51.474Z] Traitement du producteur: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-20T15:08:51.477Z] Producer userId: "cmc4r2kjk00032cvivmukdx58"
[2025-06-20T15:08:51.478Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-20T15:08:51.483Z] Notification créée avec ID: "cmc4y3gre001e2cviqujvdg5z"
[2025-06-20T15:08:51.485Z] NotificationService: Fin de l'envoi de notification 
[2025-06-20T15:08:51.490Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cmc4y3gq0001c2cviu1n0iicy"
}
[2025-06-20T15:09:28.363Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-06-20T15:52:36.348Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-20T15:52:36.349Z] ATTENTION: Requête reçue sans items 
[2025-06-20T15:52:36.353Z] Aucun panier existant avec des items trouvé 
[2025-06-20T15:52:36.355Z] Items qui seront utilisés pour créer la commande: []
[2025-06-20T15:52:36.388Z] Panier créé avec ID: "cmc4znq4m001m2cvigoxi9h9w"
[2025-06-20T15:52:36.391Z] Contenu de l'objet order.items: []
[2025-06-20T15:52:36.394Z] Vérification des items dans la base de données: []
[2025-06-20T15:52:36.396Z] Panier créé {
  "id": "cmc4znq4m001m2cvigoxi9h9w",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-20T15:52:57.472Z] NotificationService: Début envoi notification commande {
  "orderId": "cmc4znq4m001m2cvigoxi9h9w"
}
[2025-06-20T15:52:57.474Z] Items dans la commande: 1
[2025-06-20T15:52:57.477Z] Traitement item produit: {
  "productId": "cmc4xif7l000n2cvirlcefghj",
  "productName": "test_order"
}
[2025-06-20T15:52:57.479Z] Producer ID directement ajouté: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-20T15:52:57.480Z] Bookings dans la commande: 
[2025-06-20T15:52:57.482Z] Nombre de producteurs à notifier: 1
[2025-06-20T15:52:57.486Z] Liste des IDs producteurs: [
  "cmc4r2kjk00042cvixg1ghtsa"
]
[2025-06-20T15:52:57.488Z] Traitement du producteur: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-20T15:52:57.492Z] Producer userId: "cmc4r2kjk00032cvivmukdx58"
[2025-06-20T15:52:57.493Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-20T15:52:57.497Z] Notification créée avec ID: "cmc4zo6fs001u2cviihpd8633"
[2025-06-20T15:52:57.499Z] NotificationService: Fin de l'envoi de notification 
[2025-06-20T15:52:57.504Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cmc4zo6f1001s2cvin68v5j1o"
}
[2025-06-20T15:53:59.060Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-06-20T15:54:19.559Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-20T15:54:19.560Z] ATTENTION: Requête reçue sans items 
[2025-06-20T15:54:19.564Z] Aucun panier existant avec des items trouvé 
[2025-06-20T15:54:19.566Z] Items qui seront utilisés pour créer la commande: []
[2025-06-20T15:54:19.597Z] Panier créé avec ID: "cmc4zpxrl00222cviqq8ekmrk"
[2025-06-20T15:54:19.599Z] Contenu de l'objet order.items: []
[2025-06-20T15:54:19.602Z] Vérification des items dans la base de données: []
[2025-06-20T15:54:19.604Z] Panier créé {
  "id": "cmc4zpxrl00222cviqq8ekmrk",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-23T12:35:51.953Z] NotificationService: Début envoi notification commande {
  "orderId": "cmc4zpxrl00222cviqq8ekmrk"
}
[2025-06-23T12:35:51.955Z] Items dans la commande: 1
[2025-06-23T12:35:51.956Z] Traitement item produit: {
  "productId": "cmc4xif7l000n2cvirlcefghj",
  "productName": "test_order"
}
[2025-06-23T12:35:51.957Z] Producer ID directement ajouté: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-23T12:35:51.959Z] Bookings dans la commande: 
[2025-06-23T12:35:51.960Z] Nombre de producteurs à notifier: 1
[2025-06-23T12:35:51.961Z] Liste des IDs producteurs: [
  "cmc4r2kjk00042cvixg1ghtsa"
]
[2025-06-23T12:35:51.962Z] Traitement du producteur: "cmc4r2kjk00042cvixg1ghtsa"
[2025-06-23T12:35:51.966Z] Producer userId: "cmc4r2kjk00032cvivmukdx58"
[2025-06-23T12:35:51.967Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-23T12:35:51.972Z] Notification créée avec ID: "cmc92y9sx00028bgw89alcwii"
[2025-06-23T12:35:51.973Z] NotificationService: Fin de l'envoi de notification 
[2025-06-23T12:36:33.597Z] Début notification changement de statut {
  "orderId": "cmc4zpxrl00222cviqq8ekmrk",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-06-23T12:36:33.601Z] Notification changement statut créée {
  "id": "cmc92z5xc00068bgwhbg4x2oy"
}
[2025-06-23T12:36:33.604Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-06-23T12:36:34.148Z] Début notification changement de statut {
  "orderId": "cmc4zpxrl00222cviqq8ekmrk",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-06-23T12:36:34.152Z] Notification changement statut créée {
  "id": "cmc92z6cn000a8bgwjt45bu7r"
}
[2025-06-23T12:36:34.154Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-06-24T17:49:49.729Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-24T17:49:49.732Z] ATTENTION: Requête reçue sans items 
[2025-06-24T17:49:49.735Z] Aucun panier existant avec des items trouvé 
[2025-06-24T17:49:49.736Z] Items qui seront utilisés pour créer la commande: []
[2025-06-24T17:49:49.767Z] Panier créé avec ID: "cmcatlvsb000uwv90fyyznv7b"
[2025-06-24T17:49:49.769Z] Contenu de l'objet order.items: []
[2025-06-24T17:49:49.771Z] Vérification des items dans la base de données: []
[2025-06-24T17:49:49.772Z] Panier créé {
  "id": "cmcatlvsb000uwv90fyyznv7b",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-24T17:50:57.485Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcatlvsb000uwv90fyyznv7b"
}
[2025-06-24T17:50:57.486Z] Items dans la commande: 1
[2025-06-24T17:50:57.488Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-06-24T17:50:57.490Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-06-24T17:50:57.491Z] Bookings dans la commande: 
[2025-06-24T17:50:57.492Z] Nombre de producteurs à notifier: 1
[2025-06-24T17:50:57.494Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-06-24T17:50:57.496Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-06-24T17:50:57.500Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-06-24T17:50:57.501Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-24T17:50:57.508Z] Notification créée avec ID: "cmcatnc2o0010wv90f58g6x0t"
[2025-06-24T17:50:57.509Z] NotificationService: Fin de l'envoi de notification 
[2025-06-24T17:51:53.624Z] Début notification changement de statut {
  "orderId": "cmcatlvsb000uwv90fyyznv7b",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-06-24T17:51:53.634Z] Notification changement statut créée {
  "id": "cmcatojdt0016wv90hyiachtv"
}
[2025-06-24T17:51:53.641Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-24T17:51:54.187Z] Début notification changement de statut {
  "orderId": "cmcatlvsb000uwv90fyyznv7b",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-06-24T17:51:54.193Z] Notification changement statut créée {
  "id": "cmcatojtc001awv90x3cuwnhz"
}
[2025-06-24T17:51:54.196Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-24T17:54:48.264Z] Notification créée avec succès {
  "id": "cmcatsa4m001iwv9005emra6o",
  "userId": "cmcatjzt1000lwv90pqpivme9",
  "type": "ORDER_REMINDER"
}
[2025-06-24T17:54:48.864Z] Notification créée avec succès {
  "id": "cmcatsala001kwv90i8bbm6t8",
  "userId": "cmcatiyko000iwv90l96okrc5",
  "type": "ORDER_STATUS"
}
[2025-06-24T17:56:28.794Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-24T17:56:28.796Z] ATTENTION: Requête reçue sans items 
[2025-06-24T17:56:28.800Z] Aucun panier existant avec des items trouvé 
[2025-06-24T17:56:28.801Z] Items qui seront utilisés pour créer la commande: []
[2025-06-24T17:56:28.832Z] Panier créé avec ID: "cmcatufpf001owv906flbeju4"
[2025-06-24T17:56:28.834Z] Contenu de l'objet order.items: []
[2025-06-24T17:56:28.838Z] Vérification des items dans la base de données: []
[2025-06-24T17:56:28.839Z] Panier créé {
  "id": "cmcatufpf001owv906flbeju4",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-24T17:56:51.975Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcatufpf001owv906flbeju4"
}
[2025-06-24T17:56:51.977Z] Items dans la commande: 1
[2025-06-24T17:56:51.979Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-06-24T17:56:51.981Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-06-24T17:56:51.983Z] Bookings dans la commande: 
[2025-06-24T17:56:51.984Z] Nombre de producteurs à notifier: 1
[2025-06-24T17:56:51.986Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-06-24T17:56:51.989Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-06-24T17:56:51.992Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-06-24T17:56:51.994Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-24T17:56:52.004Z] Notification créée avec ID: "cmcatuxlu001wwv90987iondr"
[2025-06-24T17:56:52.005Z] NotificationService: Fin de l'envoi de notification 
[2025-06-24T17:56:52.011Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcatuxk6001uwv90vo54uopc"
}
[2025-06-24T17:58:23.080Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-24T17:59:31.384Z] Début notification changement de statut {
  "orderId": "cmcatufpf001owv906flbeju4",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-06-24T17:59:31.388Z] Notification changement statut créée {
  "id": "cmcatycl70024wv909j99jl1d"
}
[2025-06-24T17:59:31.392Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-24T17:59:31.951Z] Début notification changement de statut {
  "orderId": "cmcatufpf001owv906flbeju4",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-06-24T17:59:31.955Z] Notification changement statut créée {
  "id": "cmcatyd0y0028wv90hr21wxk8"
}
[2025-06-24T17:59:31.960Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-26T08:58:05.819Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-26T08:58:05.828Z] ATTENTION: Requête reçue sans items 
[2025-06-26T08:58:05.831Z] Aucun panier existant avec des items trouvé 
[2025-06-26T08:58:05.832Z] Items qui seront utilisés pour créer la commande: []
[2025-06-26T08:58:05.853Z] Panier créé avec ID: "cmcd5hrwv00015p2az9dk7fbo"
[2025-06-26T08:58:05.854Z] Contenu de l'objet order.items: []
[2025-06-26T08:58:05.857Z] Vérification des items dans la base de données: []
[2025-06-26T08:58:05.858Z] Panier créé {
  "id": "cmcd5hrwv00015p2az9dk7fbo",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-26T09:02:29.411Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcd5hrwv00015p2az9dk7fbo"
}
[2025-06-26T09:02:29.412Z] Items dans la commande: 1
[2025-06-26T09:02:29.413Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-06-26T09:02:29.415Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-06-26T09:02:29.416Z] Bookings dans la commande: 
[2025-06-26T09:02:29.417Z] Nombre de producteurs à notifier: 1
[2025-06-26T09:02:29.418Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-06-26T09:02:29.419Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-06-26T09:02:29.421Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-06-26T09:02:29.423Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-26T09:02:29.433Z] Notification créée avec ID: "cmcd5nfat00075p2ad6tpe8ju"
[2025-06-26T09:02:29.434Z] NotificationService: Fin de l'envoi de notification 
[2025-06-26T13:34:50.393Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-26T13:34:50.420Z] ATTENTION: Requête reçue sans items 
[2025-06-26T13:34:50.424Z] Aucun panier existant avec des items trouvé 
[2025-06-26T13:34:50.425Z] Items qui seront utilisés pour créer la commande: []
[2025-06-26T13:34:50.431Z] Panier créé avec ID: "cmcdfdo3f000b5p2a4xzj6byv"
[2025-06-26T13:34:50.432Z] Contenu de l'objet order.items: []
[2025-06-26T13:34:50.434Z] Vérification des items dans la base de données: []
[2025-06-26T13:34:50.435Z] Panier créé {
  "id": "cmcdfdo3f000b5p2a4xzj6byv",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-26T13:35:13.540Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcdfdo3f000b5p2a4xzj6byv"
}
[2025-06-26T13:35:13.542Z] Items dans la commande: 1
[2025-06-26T13:35:13.543Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-06-26T13:35:13.544Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-06-26T13:35:13.545Z] Bookings dans la commande: 
[2025-06-26T13:35:13.546Z] Nombre de producteurs à notifier: 1
[2025-06-26T13:35:13.548Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-06-26T13:35:13.549Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-06-26T13:35:13.551Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-06-26T13:35:13.552Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-06-26T13:35:13.561Z] Notification créée avec ID: "cmcdfe5xz000j5p2a7n6vg36z"
[2025-06-26T13:35:13.562Z] NotificationService: Fin de l'envoi de notification 
[2025-06-26T13:35:13.566Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcdfe5wn000h5p2arukgvw6x"
}
[2025-06-26T13:50:19.592Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-26T14:42:08.045Z] Requête de création de commande reçue {
  "items": []
}
[2025-06-26T14:42:08.047Z] ATTENTION: Requête reçue sans items 
[2025-06-26T14:42:08.049Z] Aucun panier existant avec des items trouvé 
[2025-06-26T14:42:08.051Z] Items qui seront utilisés pour créer la commande: []
[2025-06-26T14:42:08.055Z] Panier créé avec ID: "cmcdhs7jp000r5p2arxlpic4o"
[2025-06-26T14:42:08.056Z] Contenu de l'objet order.items: []
[2025-06-26T14:42:08.058Z] Vérification des items dans la base de données: []
[2025-06-26T14:42:08.059Z] Panier créé {
  "id": "cmcdhs7jp000r5p2arxlpic4o",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-06-27T15:00:15.688Z] Début notification changement de statut {
  "orderId": "cmcdfdo3f000b5p2a4xzj6byv",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-06-27T15:00:15.700Z] Notification changement statut créée {
  "id": "cmcexvdg2000e7bi1fey96uvk"
}
[2025-06-27T15:00:15.706Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-27T15:00:16.465Z] Début notification changement de statut {
  "orderId": "cmcdfdo3f000b5p2a4xzj6byv",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-06-27T15:00:16.470Z] Notification changement statut créée {
  "id": "cmcexve1i000i7bi1f0uo3pb7"
}
[2025-06-27T15:00:16.473Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-27T15:00:17.283Z] Début notification changement de statut {
  "orderId": "cmcd5hrwv00015p2az9dk7fbo",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-06-27T15:00:17.290Z] Notification changement statut créée {
  "id": "cmcexveo9000m7bi104lf1aje"
}
[2025-06-27T15:00:17.292Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-06-27T15:00:18.096Z] Début notification changement de statut {
  "orderId": "cmcd5hrwv00015p2az9dk7fbo",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-06-27T15:00:18.102Z] Notification changement statut créée {
  "id": "cmcexvfat000q7bi16azpg64e"
}
[2025-06-27T15:00:18.105Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-02T10:15:22.518Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcdhs7jp000r5p2arxlpic4o"
}
[2025-07-02T10:15:22.520Z] Items dans la commande: 1
[2025-07-02T10:15:22.521Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T10:15:22.522Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T10:15:22.524Z] Bookings dans la commande: 
[2025-07-02T10:15:22.525Z] Nombre de producteurs à notifier: 1
[2025-07-02T10:15:22.525Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T10:15:22.527Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T10:15:22.529Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T10:15:22.530Z] Montant total pour ce producteur: {
  "itemsTotal": 6,
  "bookingsTotal": 0,
  "total": 6
}
[2025-07-02T10:15:22.542Z] Notification créée avec ID: "cmclsw9lx0002aeavmpp91jnj"
[2025-07-02T10:15:22.543Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T10:36:58.428Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcdhs7jp000r5p2arxlpic4o"
}
[2025-07-02T10:36:58.431Z] Items dans la commande: 1
[2025-07-02T10:36:58.432Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T10:36:58.433Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T10:36:58.434Z] Bookings dans la commande: 
[2025-07-02T10:36:58.436Z] Nombre de producteurs à notifier: 1
[2025-07-02T10:36:58.437Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T10:36:58.439Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T10:36:58.441Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T10:36:58.444Z] Montant total pour ce producteur: {
  "itemsTotal": 6,
  "bookingsTotal": 0,
  "total": 6
}
[2025-07-02T10:36:58.447Z] Notification créée avec ID: "cmclto1ji0009aeavbbtungvx"
[2025-07-02T10:36:58.449Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T10:36:58.549Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmclto1i60007aeavom7nehm6"
}
[2025-07-02T10:42:47.128Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-02T10:42:47.129Z] ATTENTION: Requête reçue sans items 
[2025-07-02T10:42:47.132Z] Aucun panier existant avec des items trouvé 
[2025-07-02T10:42:47.133Z] Items qui seront utilisés pour créer la commande: []
[2025-07-02T10:42:47.166Z] Commande créée avec ID: "cmcltvilb000jaeav11j4o3d4"
[2025-07-02T10:42:47.169Z] Contenu de l'objet order.items: []
[2025-07-02T10:42:47.172Z] Vérification des items dans la base de données: []
[2025-07-02T10:42:47.173Z] Commande créée {
  "id": "cmcltvilb000jaeav11j4o3d4",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-02T10:42:47.174Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-02T10:43:12.876Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcltvilb000jaeav11j4o3d4"
}
[2025-07-02T10:43:12.877Z] Items dans la commande: 1
[2025-07-02T10:43:12.879Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T10:43:12.880Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T10:43:12.881Z] Bookings dans la commande: 
[2025-07-02T10:43:12.882Z] Nombre de producteurs à notifier: 1
[2025-07-02T10:43:12.883Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T10:43:12.884Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T10:43:12.886Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T10:43:12.887Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T10:43:12.891Z] Notification créée avec ID: "cmcltw2gp000raeavgujfze7y"
[2025-07-02T10:43:12.892Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T10:43:12.896Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcltw2g9000paeavoxszwrtk"
}
[2025-07-02T11:28:57.523Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-02T11:28:57.531Z] ATTENTION: Requête reçue sans items 
[2025-07-02T11:28:57.534Z] Aucun panier existant avec des items trouvé 
[2025-07-02T11:28:57.535Z] Items qui seront utilisés pour créer la commande: []
[2025-07-02T11:28:57.568Z] Commande créée avec ID: "cmclviw8y0010aeav4ex9afyg"
[2025-07-02T11:28:57.571Z] Contenu de l'objet order.items: []
[2025-07-02T11:28:57.573Z] Vérification des items dans la base de données: []
[2025-07-02T11:28:57.575Z] Commande créée {
  "id": "cmclviw8y0010aeav4ex9afyg",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-02T11:28:57.576Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-02T11:37:42.379Z] NotificationService: Début envoi notification commande {
  "orderId": "cmclviw8y0010aeav4ex9afyg"
}
[2025-07-02T11:37:42.380Z] Items dans la commande: 1
[2025-07-02T11:37:42.381Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T11:37:42.383Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:37:42.384Z] Bookings dans la commande: 
[2025-07-02T11:37:42.385Z] Nombre de producteurs à notifier: 1
[2025-07-02T11:37:42.386Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T11:37:42.387Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:37:42.390Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T11:37:42.391Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T11:37:42.395Z] Notification créée avec ID: "cmclvu5890018aeavmdhpkytl"
[2025-07-02T11:37:42.396Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T11:37:42.401Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmclvu5710016aeavz7xn28w5"
}
[2025-07-02T11:45:09.471Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-02T11:45:09.472Z] ATTENTION: Requête reçue sans items 
[2025-07-02T11:45:09.475Z] Aucun panier existant avec des items trouvé 
[2025-07-02T11:45:09.476Z] Items qui seront utilisés pour créer la commande: []
[2025-07-02T11:45:09.506Z] Commande créée avec ID: "cmclw3q790001welf8039yy60"
[2025-07-02T11:45:09.510Z] Contenu de l'objet order.items: []
[2025-07-02T11:45:09.512Z] Vérification des items dans la base de données: []
[2025-07-02T11:45:09.513Z] Commande créée {
  "id": "cmclw3q790001welf8039yy60",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-02T11:45:09.514Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-02T11:45:27.383Z] NotificationService: Début envoi notification commande {
  "orderId": "cmclw3q790001welf8039yy60"
}
[2025-07-02T11:45:27.384Z] Items dans la commande: 1
[2025-07-02T11:45:27.385Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T11:45:27.387Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:45:27.388Z] Bookings dans la commande: 
[2025-07-02T11:45:27.389Z] Nombre de producteurs à notifier: 1
[2025-07-02T11:45:27.390Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T11:45:27.391Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:45:27.394Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T11:45:27.395Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T11:45:27.399Z] Notification créée avec ID: "cmclw44100009welfl771itl1"
[2025-07-02T11:45:27.400Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T11:45:27.412Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmclw43zs0007welf06enne5y"
}
[2025-07-02T11:52:39.943Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-02T11:52:39.945Z] ATTENTION: Requête reçue sans items 
[2025-07-02T11:52:39.947Z] Aucun panier existant avec des items trouvé 
[2025-07-02T11:52:39.948Z] Items qui seront utilisés pour créer la commande: []
[2025-07-02T11:52:39.980Z] Commande créée avec ID: "cmclwddse000fwelfnnpdw1gj"
[2025-07-02T11:52:39.985Z] Contenu de l'objet order.items: []
[2025-07-02T11:52:39.987Z] Vérification des items dans la base de données: []
[2025-07-02T11:52:39.988Z] Commande créée {
  "id": "cmclwddse000fwelfnnpdw1gj",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-02T11:52:39.989Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-02T11:52:54.312Z] NotificationService: Début envoi notification commande {
  "orderId": "cmclwddse000fwelfnnpdw1gj"
}
[2025-07-02T11:52:54.313Z] Items dans la commande: 1
[2025-07-02T11:52:54.315Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T11:52:54.316Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:52:54.317Z] Bookings dans la commande: 
[2025-07-02T11:52:54.318Z] Nombre de producteurs à notifier: 1
[2025-07-02T11:52:54.319Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T11:52:54.320Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:52:54.323Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T11:52:54.324Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T11:52:54.330Z] Notification créée avec ID: "cmclwdovq000nwelfp1qnochl"
[2025-07-02T11:52:54.331Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T11:52:54.337Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmclwdoui000lwelfq74l3c3o"
}
[2025-07-02T11:53:44.574Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-02T11:53:44.575Z] ATTENTION: Requête reçue sans items 
[2025-07-02T11:53:44.578Z] Aucun panier existant avec des items trouvé 
[2025-07-02T11:53:44.579Z] Items qui seront utilisés pour créer la commande: []
[2025-07-02T11:53:44.584Z] Commande créée avec ID: "cmclwernp000twelfvzw54zar"
[2025-07-02T11:53:44.588Z] Contenu de l'objet order.items: []
[2025-07-02T11:53:44.590Z] Vérification des items dans la base de données: []
[2025-07-02T11:53:44.591Z] Commande créée {
  "id": "cmclwernp000twelfvzw54zar",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-02T11:53:44.592Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-02T11:53:54.523Z] NotificationService: Début envoi notification commande {
  "orderId": "cmclwernp000twelfvzw54zar"
}
[2025-07-02T11:53:54.526Z] Items dans la commande: 1
[2025-07-02T11:53:54.527Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T11:53:54.528Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:53:54.529Z] Bookings dans la commande: 
[2025-07-02T11:53:54.530Z] Nombre de producteurs à notifier: 1
[2025-07-02T11:53:54.531Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T11:53:54.532Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T11:53:54.535Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T11:53:54.536Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T11:53:54.540Z] Notification créée avec ID: "cmclwezca0011welf7e8rsjuq"
[2025-07-02T11:53:54.541Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T11:53:54.545Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmclwezbr000zwelfzh7vqgdz"
}
[2025-07-02T12:15:00.607Z] Requête de création de commande reçue {
  "items": [
    {
      "productId": "cmcatkrx6000owv90q7y0a99y",
      "quantity": 1,
      "price": 1
    }
  ]
}
[2025-07-02T12:15:00.608Z] Détails des items reçus dans la requête: [
  {
    "productId": "cmcatkrx6000owv90q7y0a99y",
    "quantity": 1,
    "price": 1
  }
]
[2025-07-02T12:15:00.611Z] Aucun panier existant avec des items trouvé 
[2025-07-02T12:15:00.612Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cmcatkrx6000owv90q7y0a99y",
    "quantity": 1,
    "price": 1
  }
]
[2025-07-02T12:15:00.628Z] Commande créée avec ID: "cmclx64920017welffwv68vfa"
[2025-07-02T12:15:00.634Z] Contenu de l'objet order.items: [
  {
    "id": "cmclx649i0019welfjs9c2t4p",
    "orderId": "cmclx64920017welffwv68vfa",
    "productId": "cmcatkrx6000owv90q7y0a99y",
    "quantity": 1,
    "price": 1,
    "product": {
      "id": "cmcatkrx6000owv90q7y0a99y",
      "name": "Frederic ragaigne",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cmcatjzt1000mwv909rwul0k6",
      "available": true,
      "createdAt": "2025-06-24T17:48:58.073Z",
      "updatedAt": "2025-06-24T17:49:09.522Z",
      "acceptDeferred": true,
      "minOrderQuantity": 0,
      "producer": {
        "id": "cmcatjzt1000mwv909rwul0k6",
        "userId": "cmcatjzt1000lwv90pqpivme9",
        "companyName": "webdev",
        "address": "",
        "description": "",
        "bankName": null,
        "bankAccountName": null,
        "iban": null,
        "bic": null
      }
    }
  }
]
[2025-07-02T12:15:00.636Z] Vérification des items dans la base de données: [
  {
    "id": "cmclx649i0019welfjs9c2t4p",
    "orderId": "cmclx64920017welffwv68vfa",
    "productId": "cmcatkrx6000owv90q7y0a99y",
    "quantity": 1,
    "price": 1
  }
]
[2025-07-02T12:15:00.637Z] Commande créée {
  "id": "cmclx64920017welffwv68vfa",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-07-02T12:15:00.639Z] NotificationService: Début envoi notification commande {
  "orderId": "cmclx64920017welffwv68vfa"
}
[2025-07-02T12:15:00.640Z] Items dans la commande: 1
[2025-07-02T12:15:00.641Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T12:15:00.642Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T12:15:00.643Z] Bookings dans la commande: 
[2025-07-02T12:15:00.645Z] Nombre de producteurs à notifier: 1
[2025-07-02T12:15:00.646Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T12:15:00.647Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T12:15:00.649Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T12:15:00.650Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T12:15:00.653Z] Notification créée avec ID: "cmclx64a3001bwelfubt6b42a"
[2025-07-02T12:15:00.654Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T15:23:25.529Z] NotificationService: Début envoi notification commande {
  "orderId": "cmclx64920017welffwv68vfa"
}
[2025-07-02T15:23:25.530Z] Items dans la commande: 1
[2025-07-02T15:23:25.532Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T15:23:25.533Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T15:23:25.534Z] Bookings dans la commande: 
[2025-07-02T15:23:25.535Z] Nombre de producteurs à notifier: 1
[2025-07-02T15:23:25.536Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T15:23:25.537Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T15:23:25.539Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T15:23:25.541Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T15:23:25.544Z] Notification créée avec ID: "cmcm3wf6u001gwelf25ewttwy"
[2025-07-02T15:23:25.545Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T15:23:25.550Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcm3wf6d001ewelf0dk2xtbl"
}
[2025-07-02T15:23:43.505Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-02T15:23:43.507Z] ATTENTION: Requête reçue sans items 
[2025-07-02T15:23:43.510Z] Aucun panier existant avec des items trouvé 
[2025-07-02T15:23:43.512Z] Items qui seront utilisés pour créer la commande: []
[2025-07-02T15:23:43.542Z] Commande créée avec ID: "cmcm3wt22001mwelfow06co2l"
[2025-07-02T15:23:43.546Z] Contenu de l'objet order.items: []
[2025-07-02T15:23:43.549Z] Vérification des items dans la base de données: []
[2025-07-02T15:23:43.550Z] Commande créée {
  "id": "cmcm3wt22001mwelfow06co2l",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-02T15:23:43.551Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-02T15:24:11.967Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcm3wt22001mwelfow06co2l"
}
[2025-07-02T15:24:11.968Z] Items dans la commande: 1
[2025-07-02T15:24:11.970Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-02T15:24:11.971Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T15:24:11.973Z] Bookings dans la commande: 
[2025-07-02T15:24:11.974Z] Nombre de producteurs à notifier: 1
[2025-07-02T15:24:11.975Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-02T15:24:11.976Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-02T15:24:11.979Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-02T15:24:11.980Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-02T15:24:11.984Z] Notification créée avec ID: "cmcm3xf0u0023welf9wtkyvo8"
[2025-07-02T15:24:11.985Z] NotificationService: Fin de l'envoi de notification 
[2025-07-02T15:24:11.989Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcm3xezl0021welfqbpk3d87"
}
[2025-07-02T15:25:45.196Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-02T15:25:45.197Z] ATTENTION: Requête reçue sans items 
[2025-07-02T15:25:45.200Z] Aucun panier existant avec des items trouvé 
[2025-07-02T15:25:45.201Z] Items qui seront utilisés pour créer la commande: []
[2025-07-02T15:25:45.233Z] Commande créée avec ID: "cmcm3zeyc0029welfxifyoxxv"
[2025-07-02T15:25:45.237Z] Contenu de l'objet order.items: []
[2025-07-02T15:25:45.239Z] Vérification des items dans la base de données: []
[2025-07-02T15:25:45.240Z] Commande créée {
  "id": "cmcm3zeyc0029welfxifyoxxv",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-02T15:25:45.242Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-03T11:29:34.131Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcm3zeyc0029welfxifyoxxv"
}
[2025-07-03T11:29:34.133Z] Items dans la commande: 1
[2025-07-03T11:29:34.134Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-03T11:29:34.135Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-03T11:29:34.137Z] Bookings dans la commande: 
[2025-07-03T11:29:34.138Z] Nombre de producteurs à notifier: 1
[2025-07-03T11:29:34.139Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-03T11:29:34.140Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-03T11:29:34.142Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-03T11:29:34.144Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-03T11:29:34.149Z] Notification créée avec ID: "cmcnazj5v000jsjc68p17ampi"
[2025-07-03T11:29:34.150Z] NotificationService: Fin de l'envoi de notification 
[2025-07-03T11:29:34.251Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcnazj5c000hsjc69b7mcper"
}
[2025-07-03T11:30:25.185Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-03T15:09:36.442Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-03T15:09:36.444Z] ATTENTION: Requête reçue sans items 
[2025-07-03T15:09:36.446Z] Aucun panier existant avec des items trouvé 
[2025-07-03T15:09:36.448Z] Items qui seront utilisés pour créer la commande: []
[2025-07-03T15:09:36.481Z] Commande créée avec ID: "cmcniui4j000rsjc644kp4e47"
[2025-07-03T15:09:36.485Z] Contenu de l'objet order.items: []
[2025-07-03T15:09:36.487Z] Vérification des items dans la base de données: []
[2025-07-03T15:09:36.489Z] Commande créée {
  "id": "cmcniui4j000rsjc644kp4e47",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-03T15:09:36.490Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-03T15:09:45.062Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcniui4j000rsjc644kp4e47"
}
[2025-07-03T15:09:45.063Z] Items dans la commande: 1
[2025-07-03T15:09:45.064Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-03T15:09:45.065Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-03T15:09:45.067Z] Bookings dans la commande: 
[2025-07-03T15:09:45.068Z] Nombre de producteurs à notifier: 1
[2025-07-03T15:09:45.069Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-03T15:09:45.070Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-03T15:09:45.073Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-03T15:09:45.074Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-03T15:09:45.077Z] Notification créée avec ID: "cmcniuos4000zsjc6hobdl6sj"
[2025-07-03T15:09:45.079Z] NotificationService: Fin de l'envoi de notification 
[2025-07-03T15:09:45.084Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcniuoqv000xsjc6xtpnojv7"
}
[2025-07-03T15:10:38.433Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-03T15:11:37.413Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-03T15:11:37.415Z] ATTENTION: Requête reçue sans items 
[2025-07-03T15:11:37.419Z] Aucun panier existant avec des items trouvé 
[2025-07-03T15:11:37.420Z] Items qui seront utilisés pour créer la commande: []
[2025-07-03T15:11:37.450Z] Commande créée avec ID: "cmcnix3gu0017sjc6ctooa4zi"
[2025-07-03T15:11:37.454Z] Contenu de l'objet order.items: []
[2025-07-03T15:11:37.456Z] Vérification des items dans la base de données: []
[2025-07-03T15:11:37.457Z] Commande créée {
  "id": "cmcnix3gu0017sjc6ctooa4zi",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-03T15:11:37.459Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-03T15:11:50.681Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcnix3gu0017sjc6ctooa4zi"
}
[2025-07-03T15:11:50.683Z] Items dans la commande: 1
[2025-07-03T15:11:50.684Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-03T15:11:50.685Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-03T15:11:50.686Z] Bookings dans la commande: 
[2025-07-03T15:11:50.688Z] Nombre de producteurs à notifier: 1
[2025-07-03T15:11:50.689Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-03T15:11:50.691Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-03T15:11:50.693Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-03T15:11:50.694Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-03T15:11:50.699Z] Notification créée avec ID: "cmcnixdpk001fsjc6cgx658le"
[2025-07-03T15:11:50.701Z] NotificationService: Fin de l'envoi de notification 
[2025-07-03T15:11:50.705Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcnixdog001dsjc6r3ciskfs"
}
[2025-07-03T16:03:50.650Z] Début notification changement de statut {
  "orderId": "cmcnix3gu0017sjc6ctooa4zi",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-07-03T16:03:50.655Z] Notification changement statut créée {
  "id": "cmcnks931001lsjc6phcmmj6j"
}
[2025-07-03T16:03:50.658Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-03T16:03:52.068Z] Début notification changement de statut {
  "orderId": "cmcnix3gu0017sjc6ctooa4zi",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-07-03T16:03:52.073Z] Notification changement statut créée {
  "id": "cmcnksa6f001psjc6v3rnf170"
}
[2025-07-03T16:03:52.075Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-03T16:50:04.005Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-03T16:50:04.006Z] ATTENTION: Requête reçue sans items 
[2025-07-03T16:50:04.011Z] Aucun panier existant avec des items trouvé 
[2025-07-03T16:50:04.012Z] Items qui seront utilisés pour créer la commande: []
[2025-07-03T16:50:04.046Z] Commande créée avec ID: "cmcnmfp0u000364ejhgj3ulzw"
[2025-07-03T16:50:04.049Z] Contenu de l'objet order.items: []
[2025-07-03T16:50:04.052Z] Vérification des items dans la base de données: []
[2025-07-03T16:50:04.053Z] Commande créée {
  "id": "cmcnmfp0u000364ejhgj3ulzw",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-03T16:50:04.054Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-05T10:33:23.912Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcnmfp0u000364ejhgj3ulzw"
}
[2025-07-05T10:33:23.914Z] Items dans la commande: 1
[2025-07-05T10:33:23.916Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-05T10:33:23.917Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T10:33:23.918Z] Bookings dans la commande: 
[2025-07-05T10:33:23.919Z] Nombre de producteurs à notifier: 1
[2025-07-05T10:33:23.920Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-05T10:33:23.921Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T10:33:23.924Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-05T10:33:23.925Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-05T10:33:23.929Z] Notification créée avec ID: "cmcq3v00o000512eeqhxvbe2v"
[2025-07-05T10:33:23.931Z] NotificationService: Fin de l'envoi de notification 
[2025-07-05T10:33:57.674Z] Requête de création de commande reçue {
  "items": []
}
[2025-07-05T10:33:57.675Z] ATTENTION: Requête reçue sans items 
[2025-07-05T10:33:57.679Z] Aucun panier existant avec des items trouvé 
[2025-07-05T10:33:57.680Z] Items qui seront utilisés pour créer la commande: []
[2025-07-05T10:33:57.686Z] Commande créée avec ID: "cmcq3vq2b000912eetu3htxsc"
[2025-07-05T10:33:57.689Z] Contenu de l'objet order.items: []
[2025-07-05T10:33:57.692Z] Vérification des items dans la base de données: []
[2025-07-05T10:33:57.693Z] Commande créée {
  "id": "cmcq3vq2b000912eetu3htxsc",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-07-05T10:33:57.695Z] Aucun item dans la commande - pas de notification à créer 
[2025-07-05T10:34:11.301Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcq3vq2b000912eetu3htxsc"
}
[2025-07-05T10:34:11.303Z] Items dans la commande: 1
[2025-07-05T10:34:11.304Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-05T10:34:11.305Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T10:34:11.306Z] Bookings dans la commande: 
[2025-07-05T10:34:11.307Z] Nombre de producteurs à notifier: 1
[2025-07-05T10:34:11.309Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-05T10:34:11.310Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T10:34:11.313Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-05T10:34:11.315Z] Montant total pour ce producteur: {
  "itemsTotal": 4,
  "bookingsTotal": 0,
  "total": 4
}
[2025-07-05T10:34:11.318Z] Notification créée avec ID: "cmcq3w0l1000f12eescyofytc"
[2025-07-05T10:34:11.320Z] NotificationService: Fin de l'envoi de notification 
[2025-07-05T10:40:28.882Z] Requête de création de commande reçue {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "hasItems": false
}
[2025-07-05T10:40:28.894Z] Erreur création commande {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "error": "Aucun item à traiter pour la commande"
}
[2025-07-05T11:20:22.587Z] Requête de création de commande reçue {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "hasItems": true
}
[2025-07-05T11:20:22.599Z] Items qui seront utilisés {
  "itemsCount": 1
}
[2025-07-05T11:20:22.653Z] Commande créée avec succès {
  "orderId": "cmcq5jexb000k12eef3luipjv",
  "userId": "cmcatiyko000iwv90l96okrc5",
  "itemsCount": 1,
  "total": 1
}
[2025-07-05T11:20:22.654Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcq5jexb000k12eef3luipjv"
}
[2025-07-05T11:20:22.656Z] Items dans la commande: 1
[2025-07-05T11:20:22.657Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-05T11:20:22.658Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T11:20:22.659Z] Bookings dans la commande: 
[2025-07-05T11:20:22.660Z] Nombre de producteurs à notifier: 1
[2025-07-05T11:20:22.662Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-05T11:20:22.663Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T11:20:22.665Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-05T11:20:22.667Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-05T11:20:22.671Z] Notification créée avec ID: "cmcq5jez1000n12ee9jftmdsb"
[2025-07-05T11:20:22.672Z] NotificationService: Fin de l'envoi de notification 
[2025-07-05T11:20:22.673Z] Notification envoyée {
  "orderId": "cmcq5jexb000k12eef3luipjv"
}
[2025-07-05T11:28:13.012Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcq5jexb000k12eef3luipjv"
}
[2025-07-05T11:28:13.014Z] Items dans la commande: 1
[2025-07-05T11:28:13.016Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-05T11:28:13.017Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T11:28:13.018Z] Bookings dans la commande: 
[2025-07-05T11:28:13.019Z] Nombre de producteurs à notifier: 1
[2025-07-05T11:28:13.020Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-05T11:28:13.021Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-05T11:28:13.024Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-05T11:28:13.025Z] Montant total pour ce producteur: {
  "itemsTotal": 2,
  "bookingsTotal": 0,
  "total": 2
}
[2025-07-05T11:28:13.029Z] Notification créée avec ID: "cmcq5thwj000t12eekevwpely"
[2025-07-05T11:28:13.030Z] NotificationService: Fin de l'envoi de notification 
[2025-07-05T11:28:13.133Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmcq5thva000r12eettw93cjy"
}
[2025-07-05T11:28:41.538Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-07T13:25:33.576Z] Erreur GET /api/orders {
  "error": "Validation failed: status: Expected 'DRAFT' | 'PENDING' | 'CONFIRMED' | 'SHIPPED' | 'DELIVERED' | 'CANCELLED' | 'INVOICE_PENDING' | 'INVOICE_PAID' | 'INVOICE_OVERDUE', received null"
}
[2025-07-07T13:25:33.644Z] Erreur GET /api/orders {
  "error": "Validation failed: status: Expected 'DRAFT' | 'PENDING' | 'CONFIRMED' | 'SHIPPED' | 'DELIVERED' | 'CANCELLED' | 'INVOICE_PENDING' | 'INVOICE_PAID' | 'INVOICE_OVERDUE', received null"
}
[2025-07-07T13:25:58.063Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-07T13:26:54.101Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-07T13:27:17.439Z] Erreur GET /api/orders {
  "error": "Validation failed: status: Expected 'DRAFT' | 'PENDING' | 'CONFIRMED' | 'SHIPPED' | 'DELIVERED' | 'CANCELLED' | 'INVOICE_PENDING' | 'INVOICE_PAID' | 'INVOICE_OVERDUE', received null"
}
[2025-07-07T13:27:17.474Z] Erreur GET /api/orders {
  "error": "Validation failed: status: Expected 'DRAFT' | 'PENDING' | 'CONFIRMED' | 'SHIPPED' | 'DELIVERED' | 'CANCELLED' | 'INVOICE_PENDING' | 'INVOICE_PAID' | 'INVOICE_OVERDUE', received null"
}
[2025-07-07T13:28:00.787Z] Erreur GET /api/orders {
  "error": "Validation failed: status: Expected 'DRAFT' | 'PENDING' | 'CONFIRMED' | 'SHIPPED' | 'DELIVERED' | 'CANCELLED' | 'INVOICE_PENDING' | 'INVOICE_PAID' | 'INVOICE_OVERDUE', received null"
}
[2025-07-07T13:28:00.930Z] Erreur GET /api/orders {
  "error": "Validation failed: status: Expected 'DRAFT' | 'PENDING' | 'CONFIRMED' | 'SHIPPED' | 'DELIVERED' | 'CANCELLED' | 'INVOICE_PENDING' | 'INVOICE_PAID' | 'INVOICE_OVERDUE', received null"
}
[2025-07-07T14:05:06.070Z] NotificationService: Début envoi notification commande {
  "orderId": "cmct6aycp0008vxnok7685y3o"
}
[2025-07-07T14:05:06.071Z] Items dans la commande: 1
[2025-07-07T14:05:06.073Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-07T14:05:06.074Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:05:06.075Z] Bookings dans la commande: 
[2025-07-07T14:05:06.076Z] Nombre de producteurs à notifier: 1
[2025-07-07T14:05:06.077Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-07T14:05:06.078Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:05:06.081Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-07T14:05:06.082Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-07T14:05:06.085Z] Notification créée avec ID: "cmct6ayec000bvxnohpdt8tpr"
[2025-07-07T14:05:06.086Z] NotificationService: Fin de l'envoi de notification 
[2025-07-07T14:06:46.019Z] NotificationService: Début envoi notification commande {
  "orderId": "cmct6aycp0008vxnok7685y3o"
}
[2025-07-07T14:06:46.021Z] Items dans la commande: 1
[2025-07-07T14:06:46.022Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-07T14:06:46.023Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:06:46.024Z] Bookings dans la commande: 
[2025-07-07T14:06:46.025Z] Nombre de producteurs à notifier: 1
[2025-07-07T14:06:46.026Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-07T14:06:46.027Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:06:46.031Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-07T14:06:46.033Z] Montant total pour ce producteur: {
  "itemsTotal": 7,
  "bookingsTotal": 0,
  "total": 7
}
[2025-07-07T14:06:46.037Z] Notification créée avec ID: "cmct6d3ir000nvxnom08k79kc"
[2025-07-07T14:06:46.038Z] NotificationService: Fin de l'envoi de notification 
[2025-07-07T14:06:46.143Z] Notification de création de facture envoyée au client: {
  "userId": "cmcatiyko000iwv90l96okrc5",
  "invoiceId": "cmct6d3i7000lvxnoxlt4c2y6"
}
[2025-07-07T14:07:43.290Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-07T14:12:21.208Z] NotificationService: Début envoi notification commande {
  "orderId": "cmct6ka430002aqi127r3p8zp"
}
[2025-07-07T14:12:21.210Z] Items dans la commande: 1
[2025-07-07T14:12:21.211Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-07T14:12:21.213Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:12:21.214Z] Bookings dans la commande: 
[2025-07-07T14:12:21.215Z] Nombre de producteurs à notifier: 1
[2025-07-07T14:12:21.216Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-07T14:12:21.217Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:12:21.220Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-07T14:12:21.222Z] Montant total pour ce producteur: {
  "itemsTotal": 10,
  "bookingsTotal": 0,
  "total": 10
}
[2025-07-07T14:12:21.225Z] Notification créée avec ID: "cmct6ka5j0005aqi13cjpbdot"
[2025-07-07T14:12:21.227Z] NotificationService: Fin de l'envoi de notification 
[2025-07-07T14:12:48.418Z] NotificationService: Début envoi notification commande {
  "orderId": "cmct6ka430002aqi127r3p8zp"
}
[2025-07-07T14:12:48.420Z] Items dans la commande: 1
[2025-07-07T14:12:48.421Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-07T14:12:48.422Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:12:48.423Z] Bookings dans la commande: 
[2025-07-07T14:12:48.424Z] Nombre de producteurs à notifier: 1
[2025-07-07T14:12:48.425Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-07T14:12:48.427Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T14:12:48.429Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-07T14:12:48.430Z] Montant total pour ce producteur: {
  "itemsTotal": 5,
  "bookingsTotal": 0,
  "total": 5
}
[2025-07-07T14:12:48.434Z] Notification créée avec ID: "cmct6kv5c000aaqi19iqp4z9g"
[2025-07-07T14:12:48.435Z] NotificationService: Fin de l'envoi de notification 
[2025-07-07T14:21:38.907Z] Début notification changement de statut {
  "orderId": "cmct6ka430002aqi127r3p8zp",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-07-07T14:21:38.912Z] Notification changement statut créée {
  "id": "cmct6w8gv000eaqi14usz2cyk"
}
[2025-07-07T14:21:38.917Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-07T14:21:39.682Z] Début notification changement de statut {
  "orderId": "cmct6ka430002aqi127r3p8zp",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-07-07T14:21:39.686Z] Notification changement statut créée {
  "id": "cmct6w92d000iaqi1jd1gkkw3"
}
[2025-07-07T14:21:39.689Z] Notification de changement de statut créée pour le client: "cmcatiyko000iwv90l96okrc5"
[2025-07-07T15:12:25.672Z] NotificationService: Début envoi notification commande {
  "orderId": "cmct8pjc6000naqi1xa3wfndu"
}
[2025-07-07T15:12:25.674Z] Items dans la commande: 1
[2025-07-07T15:12:25.676Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-07T15:12:25.680Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T15:12:25.681Z] Bookings dans la commande: 
[2025-07-07T15:12:25.682Z] Nombre de producteurs à notifier: 1
[2025-07-07T15:12:25.684Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-07T15:12:25.686Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-07T15:12:25.688Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-07T15:12:25.690Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-07T15:12:25.694Z] Notification créée avec ID: "cmct8pjdo000qaqi1i9yeoy3f"
[2025-07-07T15:12:25.696Z] NotificationService: Fin de l'envoi de notification 
[2025-07-11T10:28:21.820Z] NotificationService: Début envoi notification commande {
  "orderId": "cmcyobmw4000232ioow8ix3wd"
}
[2025-07-11T10:28:21.823Z] Items dans la commande: 1
[2025-07-11T10:28:21.825Z] Traitement item produit: {
  "productId": "cmcatkrx6000owv90q7y0a99y",
  "productName": "Frederic ragaigne"
}
[2025-07-11T10:28:21.826Z] Producer ID directement ajouté: "cmcatjzt1000mwv909rwul0k6"
[2025-07-11T10:28:21.827Z] Bookings dans la commande: 
[2025-07-11T10:28:21.828Z] Nombre de producteurs à notifier: 1
[2025-07-11T10:28:21.829Z] Liste des IDs producteurs: [
  "cmcatjzt1000mwv909rwul0k6"
]
[2025-07-11T10:28:21.830Z] Traitement du producteur: "cmcatjzt1000mwv909rwul0k6"
[2025-07-11T10:28:21.833Z] Producer userId: "cmcatjzt1000lwv90pqpivme9"
[2025-07-11T10:28:21.834Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-07-11T10:28:21.840Z] Notification créée avec ID: "cmcyobmx9000532io9vk9c91v"
[2025-07-11T10:28:21.841Z] NotificationService: Fin de l'envoi de notification 
