[2025-04-11T09:44:04.730Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T09:44:04.740Z] Commande créée {
  "id": "cm9clo60u0003m5j99zqeehll",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-11T09:44:04.741Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-11T09:58:33.808Z] [TEST] Début création commande de test 
[2025-04-11T09:58:33.811Z] [TEST] Utilisateur client trouvé {
  "userId": "cm87c7hvh00006aia2k26zc26"
}
[2025-04-11T09:58:33.813Z] [TEST] Produit trouvé {
  "productId": "cm8fvrbh2000ym01epzrpk6i7",
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "producerUserId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T09:58:33.845Z] [TEST] Commande de test créée {
  "orderId": "cm9cm6slz0009m5j9brp7aobw"
}
[2025-04-11T09:58:33.854Z] [TEST] Notification de test créée {
  "notificationId": "cm9cm6smv000dm5j9mhdfo57c"
}
[2025-04-11T09:59:39.154Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T09:59:39.155Z] ATTENTION: Requête reçue sans items 
[2025-04-11T09:59:39.165Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9cm6slz000bm5j9bd7m50em",
    "orderId": "cm9cm6slz0009m5j9brp7aobw",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T09:59:39.167Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10
  }
]
[2025-04-11T09:59:39.198Z] Commande créée avec ID: "cm9cm871d000fm5j984l6gbon"
[2025-04-11T09:59:39.200Z] Contenu de l'objet order.items: [
  {
    "id": "cm9cm871d000hm5j9jbfphl7y",
    "orderId": "cm9cm871d000fm5j984l6gbon",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-04-11T09:59:39.204Z] Vérification des items dans la base de données: [
  {
    "id": "cm9cm871d000hm5j9jbfphl7y",
    "orderId": "cm9cm871d000fm5j984l6gbon",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T09:59:39.204Z] Commande créée {
  "id": "cm9cm871d000fm5j984l6gbon",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-04-11T09:59:39.205Z] Items trouvés dans la commande 
[2025-04-11T09:59:39.208Z] Produits avec producteurs [
  {
    "id": "cm8fvrbh2000ym01epzrpk6i7",
    "name": "Test",
    "description": "",
    "price": 10,
    "type": "FRESH",
    "image": "/presets/mushrooms/optimized/morel.jpg",
    "unit": "kg",
    "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
    "available": true,
    "createdAt": "2025-03-19T12:10:04.118Z",
    "updatedAt": "2025-03-19T12:10:04.118Z",
    "producer": {
      "id": "cm7yn4iaf0003qxwp7jjkgdiu",
      "userId": "cm7yn45lj0000qxwps52dljee",
      "companyName": "webdevfred",
      "address": "2 la placette",
      "description": "test"
    }
  }
]
[2025-04-11T09:59:39.209Z] Producteurs identifiés [
  {
    "id": "cm7yn4iaf0003qxwp7jjkgdiu",
    "userId": "cm7yn45lj0000qxwps52dljee",
    "companyName": "webdevfred",
    "address": "2 la placette",
    "description": "test"
  }
]
[2025-04-11T09:59:39.210Z] Création notification pour producteur {
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "userId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T09:59:39.213Z] Notification créée avec succès {
  "notificationId": "cm9cm872k000jm5j91dmblqjr"
}
[2025-04-11T10:01:40.575Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T10:01:40.576Z] ATTENTION: Requête reçue sans items 
[2025-04-11T10:01:40.579Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9cm6slz000bm5j9bd7m50em",
    "orderId": "cm9cm6slz0009m5j9brp7aobw",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:01:40.581Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10
  }
]
[2025-04-11T10:01:40.611Z] Commande créée avec ID: "cm9cmaspy000um5j92ukd3iq6"
[2025-04-11T10:01:40.615Z] Contenu de l'objet order.items: [
  {
    "id": "cm9cmaspz000wm5j9fg2gp11w",
    "orderId": "cm9cmaspy000um5j92ukd3iq6",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-04-11T10:01:40.619Z] Vérification des items dans la base de données: [
  {
    "id": "cm9cmaspz000wm5j9fg2gp11w",
    "orderId": "cm9cmaspy000um5j92ukd3iq6",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:01:40.625Z] Commande créée {
  "id": "cm9cmaspy000um5j92ukd3iq6",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-04-11T10:01:40.626Z] Items trouvés dans la commande 
[2025-04-11T10:01:40.631Z] Produits avec producteurs [
  {
    "id": "cm8fvrbh2000ym01epzrpk6i7",
    "name": "Test",
    "description": "",
    "price": 10,
    "type": "FRESH",
    "image": "/presets/mushrooms/optimized/morel.jpg",
    "unit": "kg",
    "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
    "available": true,
    "createdAt": "2025-03-19T12:10:04.118Z",
    "updatedAt": "2025-03-19T12:10:04.118Z",
    "producer": {
      "id": "cm7yn4iaf0003qxwp7jjkgdiu",
      "userId": "cm7yn45lj0000qxwps52dljee",
      "companyName": "webdevfred",
      "address": "2 la placette",
      "description": "test"
    }
  }
]
[2025-04-11T10:01:40.632Z] Producteurs identifiés [
  {
    "id": "cm7yn4iaf0003qxwp7jjkgdiu",
    "userId": "cm7yn45lj0000qxwps52dljee",
    "companyName": "webdevfred",
    "address": "2 la placette",
    "description": "test"
  }
]
[2025-04-11T10:01:40.634Z] Création notification pour producteur {
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "userId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T10:01:40.638Z] Notification créée avec succès {
  "notificationId": "cm9cmasrg000ym5j9xumgask0"
}
[2025-04-11T10:07:04.469Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-11T10:07:04.470Z] ATTENTION: Requête reçue sans items 
[2025-04-11T10:07:04.472Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9cm6slz000bm5j9bd7m50em",
    "orderId": "cm9cm6slz0009m5j9brp7aobw",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:07:04.473Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10
  }
]
[2025-04-11T10:07:04.479Z] Commande créée avec ID: "cm9cmhqn00015m5j9mky3y6l1"
[2025-04-11T10:07:04.480Z] Contenu de l'objet order.items: [
  {
    "id": "cm9cmhqn00017m5j9jk89mo1g",
    "orderId": "cm9cmhqn00015m5j9mky3y6l1",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-04-11T10:07:04.482Z] Vérification des items dans la base de données: [
  {
    "id": "cm9cmhqn00017m5j9jk89mo1g",
    "orderId": "cm9cmhqn00015m5j9mky3y6l1",
    "productId": "cm8fvrbh2000ym01epzrpk6i7",
    "quantity": 1,
    "price": 10,
    "product": {
      "id": "cm8fvrbh2000ym01epzrpk6i7",
      "name": "Test",
      "description": "",
      "price": 10,
      "type": "FRESH",
      "image": "/presets/mushrooms/optimized/morel.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-03-19T12:10:04.118Z",
      "updatedAt": "2025-03-19T12:10:04.118Z"
    }
  }
]
[2025-04-11T10:07:04.483Z] Commande créée {
  "id": "cm9cmhqn00015m5j9mky3y6l1",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-04-11T10:07:04.484Z] Items trouvés dans la commande 
[2025-04-11T10:07:04.490Z] Produits avec producteurs [
  {
    "id": "cm8fvrbh2000ym01epzrpk6i7",
    "name": "Test",
    "description": "",
    "price": 10,
    "type": "FRESH",
    "image": "/presets/mushrooms/optimized/morel.jpg",
    "unit": "kg",
    "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
    "available": true,
    "createdAt": "2025-03-19T12:10:04.118Z",
    "updatedAt": "2025-03-19T12:10:04.118Z",
    "producer": {
      "id": "cm7yn4iaf0003qxwp7jjkgdiu",
      "userId": "cm7yn45lj0000qxwps52dljee",
      "companyName": "webdevfred",
      "address": "2 la placette",
      "description": "test"
    }
  }
]
[2025-04-11T10:07:04.491Z] Producteurs identifiés [
  {
    "id": "cm7yn4iaf0003qxwp7jjkgdiu",
    "userId": "cm7yn45lj0000qxwps52dljee",
    "companyName": "webdevfred",
    "address": "2 la placette",
    "description": "test"
  }
]
[2025-04-11T10:07:04.492Z] Création notification pour producteur {
  "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
  "userId": "cm7yn45lj0000qxwps52dljee"
}
[2025-04-11T10:07:04.494Z] Notification créée avec succès {
  "notificationId": "cm9cmhqnh0019m5j99twvqrgw"
}
[2025-04-22T13:12:42.451Z] Début notification changement de statut {
  "orderId": "cm9cm6slz0009m5j9brp7aobw",
  "oldStatus": "PENDING",
  "newStatus": "CONFIRMED"
}
[2025-04-22T13:12:42.456Z] Notification changement statut créée {
  "id": "cm9siyu3b000avryrceguzlgh"
}
[2025-04-22T13:12:53.851Z] Début notification changement de statut {
  "orderId": "cm9cmaspy000um5j92ukd3iq6",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-04-22T13:12:53.860Z] Notification changement statut créée {
  "id": "cm9siz2w3000cvryr5de92obz"
}
[2025-04-22T13:12:57.542Z] Début notification changement de statut {
  "orderId": "cm9cmaspy000um5j92ukd3iq6",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-04-22T13:12:57.552Z] Notification changement statut créée {
  "id": "cm9siz5qn000evryrqd7znwk4"
}
[2025-04-23T10:33:09.912Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-23T10:33:09.913Z] ATTENTION: Requête reçue sans items 
[2025-04-23T10:33:09.916Z] Aucun panier existant avec des items trouvé 
[2025-04-23T10:33:09.919Z] Items qui seront utilisés pour créer la commande: []
[2025-04-23T10:33:09.927Z] Commande créée avec ID: "cm9tspijl0001q561zb2ja82y"
[2025-04-23T10:33:09.928Z] Contenu de l'objet order.items: []
[2025-04-23T10:33:09.931Z] Vérification des items dans la base de données: []
[2025-04-23T10:33:09.933Z] Commande créée {
  "id": "cm9tspijl0001q561zb2ja82y",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-23T10:33:09.934Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-24T08:49:16.365Z] Notification de réservation créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:19:30.069Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9tspijl0001q561zb2ja82y"
}
[2025-04-24T09:19:30.070Z] Items dans la commande: 
[2025-04-24T09:19:30.071Z] Aucun item dans la commande 
[2025-04-24T09:19:30.072Z] Bookings dans la commande: 1
[2025-04-24T09:19:30.074Z] Traitement booking: {
  "slotId": "cm9siu6uz0008vryrr4mqijp9",
  "productId": "cm8n4b9pl003znfyhnl5mlske"
}
[2025-04-24T09:19:30.075Z] Producer ID de booking ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:19:30.076Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:19:30.078Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:19:30.078Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:19:30.081Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:19:30.082Z] Montant total pour ce producteur: {
  "itemsTotal": 0,
  "bookingsTotal": 15,
  "total": 15
}
[2025-04-24T09:19:30.085Z] Notification créée avec ID: "cm9v5imuc000aa500km8rswll"
[2025-04-24T09:19:30.086Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:19:30.090Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9v5imtp0008a500m9nfek4h"
}
[2025-04-24T09:19:45.758Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:20:27.967Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9tspijl0001q561zb2ja82y"
}
[2025-04-24T09:20:27.969Z] Items dans la commande: 
[2025-04-24T09:20:27.970Z] Aucun item dans la commande 
[2025-04-24T09:20:27.971Z] Bookings dans la commande: 1
[2025-04-24T09:20:27.973Z] Traitement booking: {
  "slotId": "cm9siu6uz0008vryrr4mqijp9",
  "productId": "cm8n4b9pl003znfyhnl5mlske"
}
[2025-04-24T09:20:27.974Z] Producer ID de booking ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:20:27.976Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:20:27.977Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:20:27.978Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:20:27.981Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:20:27.982Z] Montant total pour ce producteur: {
  "itemsTotal": 0,
  "bookingsTotal": 15,
  "total": 15
}
[2025-04-24T09:20:27.986Z] Notification créée avec ID: "cm9v5jvip000ha5002s9suhhg"
[2025-04-24T09:20:27.987Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:20:51.667Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-24T09:20:51.668Z] ATTENTION: Requête reçue sans items 
[2025-04-24T09:20:51.671Z] Aucun panier existant avec des items trouvé 
[2025-04-24T09:20:51.672Z] Items qui seront utilisés pour créer la commande: []
[2025-04-24T09:20:51.701Z] Commande créée avec ID: "cm9v5kdsr000ja500x546u7gi"
[2025-04-24T09:20:51.703Z] Contenu de l'objet order.items: []
[2025-04-24T09:20:51.705Z] Vérification des items dans la base de données: []
[2025-04-24T09:20:51.706Z] Commande créée {
  "id": "cm9v5kdsr000ja500x546u7gi",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-24T09:20:51.707Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-24T09:21:07.717Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9v5kdsr000ja500x546u7gi"
}
[2025-04-24T09:21:07.718Z] Items dans la commande: 1
[2025-04-24T09:21:07.719Z] Traitement item produit: {
  "productId": "cm9bcqphb0001plhz5m8qe7cz",
  "productName": "Elise"
}
[2025-04-24T09:21:07.721Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:21:07.722Z] Bookings dans la commande: 
[2025-04-24T09:21:07.723Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:21:07.724Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:21:07.725Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:21:07.728Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:21:07.731Z] Montant total pour ce producteur: {
  "itemsTotal": 100,
  "bookingsTotal": 0,
  "total": 100
}
[2025-04-24T09:21:07.734Z] Notification créée avec ID: "cm9v5kq6t000ra500q60sij2w"
[2025-04-24T09:21:07.737Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:21:07.743Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9v5kq5j000pa500sh21x1bz"
}
[2025-04-24T09:21:14.892Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:28:23.002Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-24T09:28:23.003Z] ATTENTION: Requête reçue sans items 
[2025-04-24T09:28:23.006Z] Aucun panier existant avec des items trouvé 
[2025-04-24T09:28:23.008Z] Items qui seront utilisés pour créer la commande: []
[2025-04-24T09:28:23.039Z] Commande créée avec ID: "cm9v5u21u000ya500suzo4lgw"
[2025-04-24T09:28:23.041Z] Contenu de l'objet order.items: []
[2025-04-24T09:28:23.043Z] Vérification des items dans la base de données: []
[2025-04-24T09:28:23.045Z] Commande créée {
  "id": "cm9v5u21u000ya500suzo4lgw",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-24T09:28:23.046Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-24T09:30:12.070Z] Notification de réservation créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-24T09:30:55.318Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9v5u21u000ya500suzo4lgw"
}
[2025-04-24T09:30:55.320Z] Items dans la commande: 
[2025-04-24T09:30:55.322Z] Aucun item dans la commande 
[2025-04-24T09:30:55.323Z] Bookings dans la commande: 1
[2025-04-24T09:30:55.324Z] Traitement booking: {
  "slotId": "cm9v5v7ut0011a50046nu4fh1",
  "productId": "cm8n4b9pl003znfyhnl5mlske"
}
[2025-04-24T09:30:55.326Z] Producer ID de booking ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:30:55.327Z] Nombre de producteurs à notifier: 1
[2025-04-24T09:30:55.328Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-24T09:30:55.329Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-24T09:30:55.332Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-24T09:30:55.333Z] Montant total pour ce producteur: {
  "itemsTotal": 0,
  "bookingsTotal": 15,
  "total": 15
}
[2025-04-24T09:30:55.338Z] Notification créée avec ID: "cm9v5xbl3001ba500njdfvw8b"
[2025-04-24T09:30:55.339Z] NotificationService: Fin de l'envoi de notification 
[2025-04-24T09:30:55.345Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9v5xbjs0019a5006nmq0wcg"
}
[2025-04-24T09:31:12.230Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:17:46.170Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-26T17:17:46.176Z] ATTENTION: Requête reçue sans items 
[2025-04-26T17:17:46.180Z] Aucun panier existant avec des items trouvé 
[2025-04-26T17:17:46.182Z] Items qui seront utilisés pour créer la commande: []
[2025-04-26T17:17:46.198Z] Commande créée avec ID: "cm9yhhe8a000169pkp21cbuz4"
[2025-04-26T17:17:46.199Z] Contenu de l'objet order.items: []
[2025-04-26T17:17:46.202Z] Vérification des items dans la base de données: []
[2025-04-26T17:17:46.204Z] Commande créée {
  "id": "cm9yhhe8a000169pkp21cbuz4",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-26T17:17:46.205Z] Aucun item dans la commande - pas de notification à créer 
[2025-04-26T17:19:52.134Z] NotificationService: Début envoi notification commande {
  "orderId": "cm9yhhe8a000169pkp21cbuz4"
}
[2025-04-26T17:19:52.136Z] Items dans la commande: 1
[2025-04-26T17:19:52.137Z] Traitement item produit: {
  "productId": "cm9wm4b1e000513uqh4qdtr89",
  "productName": "test_order"
}
[2025-04-26T17:19:52.139Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-26T17:19:52.141Z] Bookings dans la commande: 
[2025-04-26T17:19:52.142Z] Nombre de producteurs à notifier: 1
[2025-04-26T17:19:52.143Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-04-26T17:19:52.145Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-04-26T17:19:52.148Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-04-26T17:19:52.149Z] Montant total pour ce producteur: {
  "itemsTotal": 2,
  "bookingsTotal": 0,
  "total": 2
}
[2025-04-26T17:19:52.158Z] Notification créée avec ID: "cm9yhk3fb000q69pkq928oy0v"
[2025-04-26T17:19:52.160Z] NotificationService: Fin de l'envoi de notification 
[2025-04-26T17:19:52.297Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cm9yhk3eq000o69pkqpihkr6w"
}
[2025-04-26T17:20:51.094Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:22:58.068Z] Début notification changement de statut {
  "orderId": "cm9yhhe8a000169pkp21cbuz4",
  "oldStatus": "CONFIRMED",
  "newStatus": "SHIPPED"
}
[2025-04-26T17:22:58.072Z] Notification changement statut créée {
  "id": "cm9yho2vr000w69pk4areojor"
}
[2025-04-26T17:22:58.075Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:23:05.149Z] Début notification changement de statut {
  "orderId": "cm9yhhe8a000169pkp21cbuz4",
  "oldStatus": "SHIPPED",
  "newStatus": "DELIVERED"
}
[2025-04-26T17:23:05.153Z] Notification changement statut créée {
  "id": "cm9yho8cg001069pkdr7xqb8i"
}
[2025-04-26T17:23:05.157Z] Notification de changement de statut créée pour le client: "cm87c7hvh00006aia2k26zc26"
[2025-04-26T17:43:31.121Z] Requête de création de commande reçue {
  "items": []
}
[2025-04-26T17:43:31.123Z] ATTENTION: Requête reçue sans items 
[2025-04-26T17:43:31.126Z] Aucun panier existant avec des items trouvé 
[2025-04-26T17:43:31.128Z] Items qui seront utilisés pour créer la commande: []
[2025-04-26T17:43:31.135Z] Commande créée avec ID: "cm9yieibf001469pk6l9cpy02"
[2025-04-26T17:43:31.137Z] Contenu de l'objet order.items: []
[2025-04-26T17:43:31.140Z] Vérification des items dans la base de données: []
[2025-04-26T17:43:31.141Z] Commande créée {
  "id": "cm9yieibf001469pk6l9cpy02",
  "itemsCount": 0,
  "bookingsCount": 0
}
[2025-04-26T17:43:31.142Z] Aucun item dans la commande - pas de notification à créer 
[2025-05-05T16:58:34.646Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T16:58:34.675Z] ATTENTION: Requête reçue sans items 
[2025-05-05T16:58:34.680Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:34.681Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T16:58:34.685Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:48.658Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T16:58:48.667Z] ATTENTION: Requête reçue sans items 
[2025-05-05T16:58:48.677Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:48.828Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T16:58:48.995Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:54.137Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T16:58:54.139Z] ATTENTION: Requête reçue sans items 
[2025-05-05T16:58:54.144Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T16:58:54.145Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T16:58:54.149Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:17.983Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:02:17.985Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:02:17.990Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:17.991Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:02:17.995Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:22.228Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:02:22.230Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:02:22.234Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:02:22.236Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:02:22.240Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:05:16.832Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:05:16.834Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:05:16.839Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:05:16.840Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:05:16.844Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:06:26.625Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:06:26.626Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:06:26.631Z] Erreur lors de la récupération du panier: {
  "error": "\nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.findFirst()` invocation:\n\n{\n  where: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: true\n      }\n    }\n  },\n  orderBy: {\n    createdAt: \"desc\"\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:116:26)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:06:26.633Z] Items qui seront utilisés pour créer la commande: []
[2025-05-05T17:06:26.639Z] Erreur création commande {
  "error": "\nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.",
  "stack": "PrismaClientValidationError: \nInvalid `prisma.order.create()` invocation:\n\n{\n  data: {\n    userId: \"cm87c7hvh00006aia2k26zc26\",\n    total: 0,\n    status: \"DRAFT\"\n            ~~~~~~~\n  },\n  include: {\n    items: {\n      include: {\n        product: {\n          include: {\n            producer: true\n          }\n        }\n      }\n    },\n    user: {\n      select: {\n        name: true,\n        email: true,\n        phone: true\n      }\n    },\n    bookings: {\n      include: {\n        deliverySlot: {\n          include: {\n            product: {\n              include: {\n                producer: true\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nInvalid value for argument `status`. Expected OrderStatus.\n    at ti (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at async eval (webpack-internal:///(rsc)/./app/api/orders/route.ts:153:23)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:57228\n    at async eT.execute (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:46851)\n    at async eT.handle (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\compiled\\next-server\\app-route.runtime.dev.js:6:58760)\n    at async doRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1366:42)\n    at async cacheEntry.responseCache.get.routeKind (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1588:28)\n    at async DevServer.renderToResponseWithComponentsImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1496:28)\n    at async DevServer.renderPageComponent (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1924:24)\n    at async DevServer.renderToResponseImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:1962:32)\n    at async DevServer.pipeImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:922:25)\n    at async NextNodeServer.handleCatchallRenderRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\next-server.js:272:17)\n    at async DevServer.handleRequestImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\base-server.js:818:17)\n    at async C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:339:20\n    at async Span.traceAsyncFn (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\trace\\trace.js:154:20)\n    at async DevServer.handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\dev\\next-dev-server.js:336:24)\n    at async invokeRender (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:182:21)\n    at async handleRequest (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:359:24)\n    at async requestHandlerImpl (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\router-server.js:383:13)\n    at async Server.requestListener (C:\\Users\\fraga\\Documents\\Dev\\Alpigus\\node_modules\\next\\dist\\server\\lib\\start-server.js:141:13)"
}
[2025-05-05T17:09:30.360Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:09:30.362Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:09:30.366Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9yhiglk000969pk71nzvahv",
    "orderId": "cm9yhhe8a000169pkp21cbuz4",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:09:30.367Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1
  }
]
[2025-05-05T17:09:30.402Z] Panier créé avec ID: "cmabc5fnm000ke7innotx9hnq"
[2025-05-05T17:09:30.403Z] Contenu de l'objet order.items: [
  {
    "id": "cmabc5fnm000me7inzyneqzqa",
    "orderId": "cmabc5fnm000ke7innotx9hnq",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-05-05T17:09:30.407Z] Vérification des items dans la base de données: [
  {
    "id": "cmabc5fnm000me7inzyneqzqa",
    "orderId": "cmabc5fnm000ke7innotx9hnq",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:09:30.409Z] Panier créé {
  "id": "cmabc5fnm000ke7innotx9hnq",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-05-05T17:40:20.146Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:40:20.148Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:40:20.151Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9yhiglk000969pk71nzvahv",
    "orderId": "cm9yhhe8a000169pkp21cbuz4",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:40:20.153Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1
  }
]
[2025-05-05T17:40:20.187Z] Panier créé avec ID: "cmabd92yj000pe7inhau7quqb"
[2025-05-05T17:40:20.188Z] Contenu de l'objet order.items: [
  {
    "id": "cmabd92yj000re7inbrlyipsf",
    "orderId": "cmabd92yj000pe7inhau7quqb",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-05-05T17:40:20.192Z] Vérification des items dans la base de données: [
  {
    "id": "cmabd92yj000re7inbrlyipsf",
    "orderId": "cmabd92yj000pe7inhau7quqb",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:40:20.194Z] Panier créé {
  "id": "cmabd92yj000pe7inhau7quqb",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-05-05T17:49:01.248Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-05T17:49:01.251Z] ATTENTION: Requête reçue sans items 
[2025-05-05T17:49:01.255Z] Items trouvés dans le panier existant: [
  {
    "id": "cm9yhiglk000969pk71nzvahv",
    "orderId": "cm9yhhe8a000169pkp21cbuz4",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:49:01.257Z] Items qui seront utilisés pour créer la commande: [
  {
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1
  }
]
[2025-05-05T17:49:01.288Z] Panier créé avec ID: "cmabdk91n000ue7inypw3dn0z"
[2025-05-05T17:49:01.290Z] Contenu de l'objet order.items: [
  {
    "id": "cmabdk91n000we7ina2ib0zs8",
    "orderId": "cmabdk91n000ue7inypw3dn0z",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z",
      "producer": {
        "id": "cm7yn4iaf0003qxwp7jjkgdiu",
        "userId": "cm7yn45lj0000qxwps52dljee",
        "companyName": "webdevfred",
        "address": "2 la placette",
        "description": "test"
      }
    }
  }
]
[2025-05-05T17:49:01.294Z] Vérification des items dans la base de données: [
  {
    "id": "cmabdk91n000we7ina2ib0zs8",
    "orderId": "cmabdk91n000ue7inypw3dn0z",
    "productId": "cm9wm4b1e000513uqh4qdtr89",
    "quantity": 2,
    "price": 1,
    "product": {
      "id": "cm9wm4b1e000513uqh4qdtr89",
      "name": "test_order",
      "description": "",
      "price": 1,
      "type": "SUBSTRATE",
      "image": "/presets/mushrooms/optimized/truffle.jpg",
      "unit": "kg",
      "producerId": "cm7yn4iaf0003qxwp7jjkgdiu",
      "available": true,
      "createdAt": "2025-04-25T09:52:01.250Z",
      "updatedAt": "2025-04-26T17:35:54.499Z"
    }
  }
]
[2025-05-05T17:49:01.296Z] Panier créé {
  "id": "cmabdk91n000ue7inypw3dn0z",
  "itemsCount": 1,
  "bookingsCount": 0
}
[2025-05-15T11:32:40.480Z] NotificationService: Début envoi notification commande {
  "orderId": "cmabdk91n000ue7inypw3dn0z"
}
[2025-05-15T11:32:40.482Z] Items dans la commande: 1
[2025-05-15T11:32:40.483Z] Traitement item produit: {
  "productId": "cm9wm4b1e000513uqh4qdtr89",
  "productName": "test_order"
}
[2025-05-15T11:32:40.484Z] Producer ID directement ajouté: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-15T11:32:40.485Z] Bookings dans la commande: 
[2025-05-15T11:32:40.486Z] Nombre de producteurs à notifier: 1
[2025-05-15T11:32:40.487Z] Liste des IDs producteurs: [
  "cm7yn4iaf0003qxwp7jjkgdiu"
]
[2025-05-15T11:32:40.488Z] Traitement du producteur: "cm7yn4iaf0003qxwp7jjkgdiu"
[2025-05-15T11:32:40.490Z] Producer userId: "cm7yn45lj0000qxwps52dljee"
[2025-05-15T11:32:40.491Z] Montant total pour ce producteur: {
  "itemsTotal": 1,
  "bookingsTotal": 0,
  "total": 1
}
[2025-05-15T11:32:40.496Z] Notification créée avec ID: "cmapaisa50004tf44jlsupofa"
[2025-05-15T11:32:40.497Z] NotificationService: Fin de l'envoi de notification 
[2025-05-15T11:32:40.627Z] Notification de création de facture envoyée au client: {
  "userId": "cm87c7hvh00006aia2k26zc26",
  "invoiceId": "cmapais9m0002tf44zgzkt6pf"
}
[2025-05-15T11:57:39.361Z] Requête de création de commande reçue {
  "items": []
}
[2025-05-15T11:57:39.362Z] ATTENTION: Requête reçue sans items 
[2025-05-15T11:57:39.365Z] Aucun panier existant avec des items trouvé 
[2025-05-15T11:57:39.366Z] Items qui seront utilisés pour créer la commande: []
[2025-05-15T11:57:39.397Z] Panier créé avec ID: "cmapbewtl0008tf44qrmkj1m6"
[2025-05-15T11:57:39.398Z] Contenu de l'objet order.items: []
[2025-05-15T11:57:39.401Z] Vérification des items dans la base de données: []
[2025-05-15T11:57:39.402Z] Panier créé {
  "id": "cmapbewtl0008tf44qrmkj1m6",
  "itemsCount": 0,
  "bookingsCount": 0
}
