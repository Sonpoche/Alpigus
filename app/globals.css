@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* === SYSTÈME NOIR/BLANC MINIMALISTE === */
    
    /* Light mode - Blanc dominant */
    --background: 0 0% 100%;              /* Blanc pur */
    --foreground: 0 0% 0%;                /* Noir pur */
    --card: 0 0% 100%;                    /* Blanc pur */
    --card-foreground: 0 0% 0%;           /* Noir pur */
    --popover: 0 0% 100%;                 /* Blanc pur */
    --popover-foreground: 0 0% 0%;        /* Noir pur */
    
    /* Hiérarchie en nuances de gris très subtiles */
    --primary: 0 0% 0%;                   /* Noir pur pour éléments principaux */
    --primary-foreground: 0 0% 100%;      /* Blanc sur noir */
    --secondary: 0 0% 96%;                /* Gris très clair */
    --secondary-foreground: 0 0% 0%;      /* Noir sur gris clair */
    --muted: 0 0% 98%;                    /* Gris ultra clair */
    --muted-foreground: 0 0% 40%;         /* Gris moyen pour texte secondaire */
    --accent: 0 0% 95%;                   /* Gris très clair pour accents */
    --accent-foreground: 0 0% 0%;         /* Noir sur accent */
    
    /* États fonctionnels en nuances de gris */
    --destructive: 0 0% 20%;              /* Gris foncé pour erreur */
    --destructive-foreground: 0 0% 100%;  /* Blanc sur gris foncé */
    --success: 0 0% 15%;                  /* Gris très foncé pour succès */
    --success-foreground: 0 0% 100%;      /* Blanc sur gris très foncé */
    --warning: 0 0% 25%;                  /* Gris moyen-foncé pour warning */
    --warning-foreground: 0 0% 100%;      /* Blanc sur gris moyen-foncé */
    --info: 0 0% 30%;                     /* Gris moyen pour info */
    --info-foreground: 0 0% 100%;         /* Blanc sur gris moyen */
    
    /* Bordures et interactions */
    --border: 0 0% 90%;                   /* Gris clair pour bordures */
    --input: 0 0% 92%;                    /* Gris clair pour inputs */
    --ring: 0 0% 0%;                      /* Noir pour focus ring */
    
    /* Charts en nuances de gris */
    --chart-1: 0 0% 10%;                  /* Gris très foncé */
    --chart-2: 0 0% 25%;                  /* Gris foncé */
    --chart-3: 0 0% 40%;                  /* Gris moyen */
    --chart-4: 0 0% 55%;                  /* Gris moyen-clair */
    --chart-5: 0 0% 70%;                  /* Gris clair */
    
    --radius: 0.375rem;                   /* Bordures légèrement arrondies */
  }

  .dark {
    /* Dark mode - Noir dominant */
    --background: 0 0% 0%;                /* Noir pur */
    --foreground: 0 0% 100%;              /* Blanc pur */
    --card: 0 0% 4%;                      /* Noir très légèrement gris */
    --card-foreground: 0 0% 100%;         /* Blanc pur */
    --popover: 0 0% 0%;                   /* Noir pur */
    --popover-foreground: 0 0% 100%;      /* Blanc pur */
    
    /* Hiérarchie en nuances de gris très subtiles */
    --primary: 0 0% 100%;                 /* Blanc pur pour éléments principaux */
    --primary-foreground: 0 0% 0%;        /* Noir sur blanc */
    --secondary: 0 0% 8%;                 /* Gris très foncé */
    --secondary-foreground: 0 0% 100%;    /* Blanc sur gris foncé */
    --muted: 0 0% 6%;                     /* Gris ultra foncé */
    --muted-foreground: 0 0% 60%;         /* Gris moyen pour texte secondaire */
    --accent: 0 0% 10%;                   /* Gris foncé pour accents */
    --accent-foreground: 0 0% 100%;       /* Blanc sur accent */
    
    /* États fonctionnels en nuances de gris */
    --destructive: 0 0% 80%;              /* Gris clair pour erreur */
    --destructive-foreground: 0 0% 0%;    /* Noir sur gris clair */
    --success: 0 0% 85%;                  /* Gris très clair pour succès */
    --success-foreground: 0 0% 0%;        /* Noir sur gris très clair */
    --warning: 0 0% 75%;                  /* Gris moyen-clair pour warning */
    --warning-foreground: 0 0% 0%;        /* Noir sur gris moyen-clair */
    --info: 0 0% 70%;                     /* Gris moyen pour info */
    --info-foreground: 0 0% 0%;           /* Noir sur gris moyen */
    
    /* Bordures et interactions */
    --border: 0 0% 15%;                   /* Gris foncé pour bordures */
    --input: 0 0% 12%;                    /* Gris foncé pour inputs */
    --ring: 0 0% 100%;                    /* Blanc pour focus ring */
    
    /* Charts en nuances de gris inversées */
    --chart-1: 0 0% 90%;                  /* Gris très clair */
    --chart-2: 0 0% 75%;                  /* Gris clair */
    --chart-3: 0 0% 60%;                  /* Gris moyen */
    --chart-4: 0 0% 45%;                  /* Gris moyen-foncé */
    --chart-5: 0 0% 30%;                  /* Gris foncé */
  }

  * {
    @apply border-border;
    box-sizing: border-box;
    max-width: 100%;
  }

  *:before,
  *:after {
    box-sizing: border-box;
  }

  html {
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }

  body {
    @apply bg-background text-foreground;
    overflow-x: hidden;
    min-height: 100vh;
    width: 100%;
    max-width: 100vw;
    font-family: var(--font-roboto), Arial, sans-serif;
  }

  #__next {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
  }

  /* Typographie hiérarchique */
  h1, h2, h3, h4, h5, h6 {
    @apply text-foreground;
    font-family: var(--font-montserrat), Arial, sans-serif;
    font-weight: 600;
    line-height: 1.2;
  }

  h1 { font-size: 2.25rem; }
  h2 { font-size: 1.875rem; }
  h3 { font-size: 1.5rem; }
  h4 { font-size: 1.25rem; }
  h5 { font-size: 1.125rem; }
  h6 { font-size: 1rem; }

  p, span, div {
    @apply text-foreground;
    font-family: var(--font-roboto), Arial, sans-serif;
  }

  /* Inputs et formulaires - mode sombre compatible */
  input, select, textarea {
    @apply text-foreground bg-background border-input;
    @apply focus:border-ring focus:ring-2 focus:ring-ring/20 focus:outline-none;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }

  input::placeholder, 
  textarea::placeholder, 
  select::placeholder {
    @apply text-muted-foreground;
  }

  option {
    @apply bg-background text-foreground;
  }

  /* PhoneInput fix pour mode sombre */
  .PhoneInput input {
    @apply text-foreground bg-background;
  }

  .PhoneInputCountryIcon,
  .PhoneInputCountrySelectArrow {
    @apply text-foreground;
  }
}

@layer components {
  /* === SYSTÈME DE COMPOSANTS MINIMALISTE === */
  
  /* Badges */
  .badge {
    @apply px-3 py-1 text-xs font-medium rounded-full;
    @apply border border-border bg-secondary text-secondary-foreground;
  }
  
  .badge-primary {
    @apply bg-primary text-primary-foreground border-primary;
  }
  
  .badge-outline {
    @apply border-2 border-border bg-transparent text-foreground;
  }
  
  /* Cards minimalistes */
  .card {
    @apply bg-card border border-border rounded-lg shadow-card;
    @apply hover:shadow-hover transition-shadow duration-200;
    width: 100%;
    max-width: 100%;
  }
  
  .card-minimal {
    @apply bg-background border border-border rounded-md;
    @apply hover:border-foreground/20 transition-colors duration-200;
  }
  
  .card-body {
    @apply p-6;
  }
  
  .card-header {
    @apply mb-4 pb-4 border-b border-border;
  }
  
  .card-title {
    @apply font-montserrat font-semibold text-foreground text-lg;
  }
  
  .card-subtitle {
    @apply text-sm text-muted-foreground;
  }
  
  /* Boutons minimalistes */
  .btn {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2;
    @apply text-sm font-medium transition-all duration-200;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground;
    @apply hover:bg-primary/90 active:bg-primary/95;
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground border border-border;
    @apply hover:bg-secondary/80 active:bg-secondary/90;
  }

  .btn-outline {
    @apply border-2 border-border bg-transparent text-foreground;
    @apply hover:bg-accent hover:text-accent-foreground;
    @apply active:bg-accent/80;
  }

  .btn-ghost {
    @apply bg-transparent text-foreground;
    @apply hover:bg-accent hover:text-accent-foreground;
    @apply active:bg-accent/80;
  }

  .btn-minimal {
    @apply bg-transparent text-foreground border border-transparent;
    @apply hover:border-border hover:bg-muted;
    @apply active:bg-muted/80;
  }

  /* États sans couleur */
  .btn-destructive {
    @apply bg-destructive text-destructive-foreground;
    @apply hover:bg-destructive/90 active:bg-destructive/95;
  }

  .btn-success {
    @apply bg-success text-success-foreground;
    @apply hover:bg-success/90 active:bg-success/95;
  }
  
  /* Formulaires */
  .form-input {
    @apply block w-full rounded-md border border-input bg-background px-3 py-2;
    @apply text-foreground shadow-minimal;
    @apply focus:border-ring focus:ring-2 focus:ring-ring/20 focus:outline-none;
    @apply transition-colors duration-200;
  }

  .form-select {
    @apply form-input;
  }

  .form-textarea {
    @apply form-input resize-y min-h-[80px];
  }

  .form-label {
    @apply block text-sm font-medium text-foreground mb-2;
  }

  .form-error {
    @apply mt-1 text-xs text-muted-foreground;
  }
  
  /* Animations et interactions */
  .hover-lift {
    @apply transition-transform duration-200 hover:-translate-y-0.5;
  }
  
  .hover-scale {
    @apply transition-transform duration-200 hover:scale-105;
  }

  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }
}

/* === RESPONSIVE DESIGN OPTIMISÉ === */
@media (max-width: 640px) {
  /* Espacement réduit sur mobile */
  .p-8 { padding: 1rem; }
  .p-6 { padding: 0.75rem; }
  .p-4 { padding: 0.5rem; }
  
  .px-8 { padding-left: 1rem; padding-right: 1rem; }
  .px-6 { padding-left: 0.75rem; padding-right: 0.75rem; }
  
  .py-8 { padding-top: 1rem; padding-bottom: 1rem; }
  .py-6 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
  
  .gap-6 { gap: 0.75rem; }
  .gap-4 { gap: 0.5rem; }
  
  /* Typographie adaptée mobile */
  h1 { font-size: 1.875rem; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.25rem; }
}

/* === UTILITAIRES SPÉCIALISÉS === */

/* Masquer scrollbar */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Skeleton loading */
.skeleton {
  @apply relative overflow-hidden bg-muted rounded;
}

.skeleton::after {
  @apply absolute inset-0 -translate-x-full;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  animation: shimmer 2s infinite;
  content: '';
}

.dark .skeleton::after {
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
}

/* Transitions de page */
.page-transition {
  animation-fill-mode: both;
}

.page-enter {
  opacity: 0;
  transform: translateY(10px);
}

.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity 200ms ease-out, transform 200ms ease-out;
}

.page-exit {
  opacity: 1;
  transform: translateY(0);
}

.page-exit-active {
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 200ms ease-in, transform 200ms ease-in;
}

/* Calendrier Mantine adapté */
.mantine-DatePicker-calendar {
  width: 100% !important;
  max-width: 100% !important;
}

@media (max-width: 640px) {
  .mantine-DatePicker-day {
    width: 1.5rem !important;
    height: 1.5rem !important;
    font-size: 0.75rem !important;
  }
  
  .mantine-DatePicker-weekday {
    font-size: 0.75rem !important;
  }
}